<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>gtsam: gtsam::IndeterminantLinearSystemException Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">gtsam<span id="projectnumber">&#160;4.1.1</span>
   </div>
   <div id="projectbrief">gtsam</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('a03816.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="a03813.html">List of all members</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle"><div class="title">gtsam::IndeterminantLinearSystemException Class Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Thrown when a linear system is ill-posed. </p>
<p >The most common cause for this error is having underconstrained variables. Mathematically, the system is either underdetermined, or its quadratic error function is concave in some directions.</p>
<p >Examples of situations causing this error are:</p><ul>
<li>A landmark observed by two cameras with a very small baseline will have high uncertainty in its distance from the cameras but low uncertainty in its bearing, creating a poorly-conditioned system.</li>
<li>A landmark observed by only a single ProjectionFactor, <a class="el" href="a04616.html">RangeFactor</a>, or <a class="el" href="a04600.html">BearingFactor</a> (the landmark is not completely constrained).</li>
<li>An overall scale or rigid transformation ambiguity, for example missing a prior or hard constraint on the first pose, or missing a scale constraint between the first two cameras (in structure-from-motion).</li>
</ul>
<p >Mathematically, the following conditions cause this problem:</p><ul>
<li>Underdetermined system: This occurs when the variables are not completely constrained by factors. Even if all variables are involved in factors, the variables can still be numerically underconstrained, (for example, if a landmark is observed by only one ProjectionFactor). Mathematically in this case, the rank of the linear Jacobian or Hessian is less than the number of scalars in the system.</li>
<li>Indefinite system: This condition occurs when the system Hessian is indefinite, i.e. non-positive-semidefinite. Note that this condition can also indicate an underdetermined system, but when solving with Cholesky, accumulation of numerical errors can cause the system to become indefinite (have some negative eigenvalues) even if it is in reality positive semi-definite (has some near-zero positive eigenvalues). Alternatively, if the system contains some <a class="el" href="a03764.html" title="A Gaussian factor using the canonical parameters (information form)">HessianFactor</a>'s with negative eigenvalues, these can create a truly indefinite system, whose quadratic error function has negative curvature in some directions.</li>
<li>Poorly-conditioned system: A system that is positive-definite (has a unique solution) but is numerically ill-conditioned can accumulate numerical errors during solving that cause the system to become indefinite later during the elimination process. Note that poorly- conditioned systems will usually have inaccurate solutions, even if they do not always trigger this error. Systems with almost- unconstrained variables or vastly different measurement uncertainties or variable units can be poorly-conditioned.</li>
</ul>
<p >Resolving this problem:</p><ul>
<li>This exception contains the variable at which the problem was discovered (IndeterminantLinearSystemException::nearbyVariable()). Note, however, that this is not necessarily the variable where the problem originates. For example, in the case that a prior on the first camera was forgotten, it may only be another camera or landmark where the problem can be detected. Where the problem is detected depends on the graph structure and variable elimination ordering.</li>
<li>MATLAB (or similar software) is a useful tool to diagnose this problem. Use <a class="el" href="a03744.html#a5856b8544f4d9b76be4b2d8f13807e09" title="Matrix version of sparseJacobian: generates a 3*m matrix with [i,j,s] entries such that S(i(k),...">GaussianFactorGraph::sparseJacobian_()</a>, <a class="el" href="a03744.html#a2ec5f64848183b75a6a3470c0750aeaa" title="Returns a sparse augmented Jacbian matrix as a vector of i, j, and s, where i(k) and j(k) are the bas...">GaussianFactorGraph::sparseJacobian()</a> GaussianFactorGraph::denseJacobian(), and GaussianFactorGraph::denseHessian() to output the linear graph in matrix format. If using the MATLAB wrapper, the returned matrices can be immediately inspected and analyzed using standard methods. If not using the MATLAB wrapper, the output of these functions may be written to text files and then loaded into MATLAB.</li>
<li>When outputting linear graphs as Jacobian matrices, rows are ordered in the same order as factors in the graph, which each factor occupying the number of rows indicated by its <a class="el" href="a03796.html#abb57c8cec2af9109edb3127ae89f69a8" title="return the number of rows in the corresponding linear system">JacobianFactor::rows()</a> function. Each column appears in elimination ordering, as in the <a class="el" href="a03632.html">Ordering</a> class. Each variable occupies the number of columns indicated by the <a class="el" href="a03796.html#a98d8f3afec4f66783375942908e5a2d6" title="Return the dimension of the variable pointed to by the given key iterator todo: Remove this in favor ...">JacobianFactor::getDim()</a> function.</li>
<li>When outputting linear graphs as Hessian matrices, rows and columns are ordered in elimination order and occupy scalars in the same way as described for Jacobian columns in the previous bullet. </li>
</ul>
</div><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for gtsam::IndeterminantLinearSystemException:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="a03816.png" usemap="#gtsam::IndeterminantLinearSystemException_map" alt=""/>
  <map id="gtsam::IndeterminantLinearSystemException_map" name="gtsam::IndeterminantLinearSystemException_map">
<area href="a02664.html" alt="gtsam::ThreadsafeException&lt; IndeterminantLinearSystemException &gt;" shape="rect" coords="0,56,399,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a987dbac4a82b3503a7092636fdd49970"><td class="memItemLeft" align="right" valign="top"><a id="a987dbac4a82b3503a7092636fdd49970" name="a987dbac4a82b3503a7092636fdd49970"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>IndeterminantLinearSystemException</b> (<a class="el" href="a01596.html#adad029f5f6ffce610428b5fe768b0df2">Key</a> j) noexcept</td></tr>
<tr class="separator:a987dbac4a82b3503a7092636fdd49970"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb8cd63ca4f5816caad806ec99fb8ed3"><td class="memItemLeft" align="right" valign="top"><a id="aeb8cd63ca4f5816caad806ec99fb8ed3" name="aeb8cd63ca4f5816caad806ec99fb8ed3"></a>
<a class="el" href="a01596.html#adad029f5f6ffce610428b5fe768b0df2">Key</a>&#160;</td><td class="memItemRight" valign="bottom"><b>nearbyVariable</b> () const</td></tr>
<tr class="separator:aeb8cd63ca4f5816caad806ec99fb8ed3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f51ab64e2692738b804151a62284ff0"><td class="memItemLeft" align="right" valign="top"><a id="a2f51ab64e2692738b804151a62284ff0" name="a2f51ab64e2692738b804151a62284ff0"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>what</b> () const noexcept override</td></tr>
<tr class="separator:a2f51ab64e2692738b804151a62284ff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_a02664"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_a02664')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="a02664.html">gtsam::ThreadsafeException&lt; IndeterminantLinearSystemException &gt;</a></td></tr>
<tr class="memitem:af5b95de52358c015049206ac1c250d6a inherit pub_methods_a02664"><td class="memItemLeft" align="right" valign="top"><a id="af5b95de52358c015049206ac1c250d6a" name="af5b95de52358c015049206ac1c250d6a"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>what</b> () const noexcept override</td></tr>
<tr class="separator:af5b95de52358c015049206ac1c250d6a inherit pub_methods_a02664"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_types_a02664"><td colspan="2" onclick="javascript:toggleInherit('pro_types_a02664')"><img src="closed.png" alt="-"/>&#160;Protected Types inherited from <a class="el" href="a02664.html">gtsam::ThreadsafeException&lt; IndeterminantLinearSystemException &gt;</a></td></tr>
<tr class="memitem:ab3e8e328dbd471da099164319a6767ec inherit pro_types_a02664"><td class="memItemLeft" align="right" valign="top"><a id="ab3e8e328dbd471da099164319a6767ec" name="ab3e8e328dbd471da099164319a6767ec"></a>
typedef std::string&#160;</td><td class="memItemRight" valign="bottom"><b>String</b></td></tr>
<tr class="separator:ab3e8e328dbd471da099164319a6767ec inherit pro_types_a02664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_a02664"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_a02664')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="a02664.html">gtsam::ThreadsafeException&lt; IndeterminantLinearSystemException &gt;</a></td></tr>
<tr class="memitem:a5e422f39c89802be3c5aaaf65dbfd862 inherit pro_methods_a02664"><td class="memItemLeft" align="right" valign="top"><a id="a5e422f39c89802be3c5aaaf65dbfd862" name="a5e422f39c89802be3c5aaaf65dbfd862"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ThreadsafeException</b> ()</td></tr>
<tr class="memdesc:a5e422f39c89802be3c5aaaf65dbfd862 inherit pro_methods_a02664"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor is protected - may only be created from derived classes. <br /></td></tr>
<tr class="separator:a5e422f39c89802be3c5aaaf65dbfd862 inherit pro_methods_a02664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71fe75b345e277c800fb6b5ddba217de inherit pro_methods_a02664"><td class="memItemLeft" align="right" valign="top"><a id="a71fe75b345e277c800fb6b5ddba217de" name="a71fe75b345e277c800fb6b5ddba217de"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ThreadsafeException</b> (const <a class="el" href="a02664.html">ThreadsafeException</a> &amp;other)</td></tr>
<tr class="memdesc:a71fe75b345e277c800fb6b5ddba217de inherit pro_methods_a02664"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor is protected - may only be created from derived classes. <br /></td></tr>
<tr class="separator:a71fe75b345e277c800fb6b5ddba217de inherit pro_methods_a02664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a730172f56582e5a56d1fcb93d230d1de inherit pro_methods_a02664"><td class="memItemLeft" align="right" valign="top"><a id="a730172f56582e5a56d1fcb93d230d1de" name="a730172f56582e5a56d1fcb93d230d1de"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ThreadsafeException</b> (const std::string &amp;description)</td></tr>
<tr class="memdesc:a730172f56582e5a56d1fcb93d230d1de inherit pro_methods_a02664"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct with description string. <br /></td></tr>
<tr class="separator:a730172f56582e5a56d1fcb93d230d1de inherit pro_methods_a02664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a16f8c7e9e195c03a65dd03c65e77c5 inherit pro_methods_a02664"><td class="memItemLeft" align="right" valign="top"><a id="a3a16f8c7e9e195c03a65dd03c65e77c5" name="a3a16f8c7e9e195c03a65dd03c65e77c5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>~ThreadsafeException</b> () noexcept override</td></tr>
<tr class="memdesc:a3a16f8c7e9e195c03a65dd03c65e77c5 inherit pro_methods_a02664"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default destructor doesn't have the noexcept. <br /></td></tr>
<tr class="separator:a3a16f8c7e9e195c03a65dd03c65e77c5 inherit pro_methods_a02664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_a02664"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_a02664')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="a02664.html">gtsam::ThreadsafeException&lt; IndeterminantLinearSystemException &gt;</a></td></tr>
<tr class="memitem:a4efc6de8e5ea1810c3d32f29a00714c0 inherit pro_attribs_a02664"><td class="memItemLeft" align="right" valign="top"><a id="a4efc6de8e5ea1810c3d32f29a00714c0" name="a4efc6de8e5ea1810c3d32f29a00714c0"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>dynamic_</b></td></tr>
<tr class="memdesc:a4efc6de8e5ea1810c3d32f29a00714c0 inherit pro_attribs_a02664"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this object was moved. <br /></td></tr>
<tr class="separator:a4efc6de8e5ea1810c3d32f29a00714c0 inherit pro_attribs_a02664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f7ec9cccffe7d666e3a025546377c32 inherit pro_attribs_a02664"><td class="memItemLeft" align="right" valign="top"><a id="a8f7ec9cccffe7d666e3a025546377c32" name="a8f7ec9cccffe7d666e3a025546377c32"></a>
boost::optional&lt; String &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>description_</b></td></tr>
<tr class="memdesc:a8f7ec9cccffe7d666e3a025546377c32 inherit pro_attribs_a02664"><td class="mdescLeft">&#160;</td><td class="mdescRight">Optional description. <br /></td></tr>
<tr class="separator:a8f7ec9cccffe7d666e3a025546377c32 inherit pro_attribs_a02664"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/Users/dellaert/git/github/gtsam/linear/<a class="el" href="a00755_source.html">linearExceptions.h</a></li>
<li>/Users/dellaert/git/github/gtsam/linear/<a class="el" href="a00656.html">linearExceptions.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="a01596.html">gtsam</a></li><li class="navelem"><a class="el" href="a03816.html">IndeterminantLinearSystemException</a></li>
    <li class="footer">Generated on Tue Jan 25 2022 13:36:46 for gtsam by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
