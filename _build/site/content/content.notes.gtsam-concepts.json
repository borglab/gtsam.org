{"version":1,"kind":"Article","sha256":"11619dd6ef67c72cf80798c012422ee05febc14d195b5452749d45483f53512c","slug":"content.notes.gtsam-concepts","location":"/Content/Notes/GTSAM-Concepts.md","dependencies":[],"frontmatter":{"title":"GTSAM Concepts","date":"2019-05-18","github":"https://github.com/borglab/gtsam","numbering":{"title":{"offset":1}},"edit_url":"https://github.com/borglab/gtsam/blob/docs/ktk-sdk/Content/Notes/GTSAM-Concepts.md","exports":[{"format":"md","filename":"GTSAM-Concepts.md","url":"/GTSAM-Concepts-152c09953a4a0811880269ee57ce38d5.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"As discussed in ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"QvJwWQPmou"},{"type":"link","url":"http://www.boost.org/community/generic_programming.html","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Generic Programming Techniques","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"JtEVSSN1kz"}],"urlSource":"http://www.boost.org/community/generic_programming.html","key":"jtLiIZPxII"},{"type":"text","value":", concepts define","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"SH8LnKbDfO"}],"key":"XyIsFFJZvI"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"associated types","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"FpaM4PXRFD"}],"key":"z5VOZNOnfL"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"valid expressions, like functions and values","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"POIGH94Zfo"}],"key":"O7iCzsC8gS"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"invariants","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"oJpNE5udpA"}],"key":"U09VNpqqVY"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"complexity guarantees","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"gTDVNvyJzS"}],"key":"D7VdakAsox"}],"key":"GhRIYGreSZ"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Below we discuss the most important concepts use in GTSAM, and after that we discuss how they are implemented/used/enforced.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"HaCUmK23IU"}],"key":"HqL5T6prav"},{"type":"heading","depth":3,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Manifold","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"qJAocZN47v"}],"identifier":"manifold","label":"Manifold","html_id":"manifold","implicit":true,"key":"zYxYOM6UhM"},{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"To optimize over continuous types, we assume they are manifolds. This is central to GTSAM and hence discussed in some more detail below.","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"BN4V9WimXO"}],"key":"FBOXwPdkpo"},{"type":"paragraph","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"link","url":"https://en.wikipedia.org/wiki/Manifold#Charts.2C_atlases.2C_and_transition_maps","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Manifolds","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"x3E4nKjoVS"}],"urlSource":"http://en.wikipedia.org/wiki/Manifold#Charts.2C_atlases.2C_and_transition_maps","data":{"page":"Manifold#Charts.2C_atlases.2C_and_transition_maps","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"wGwRaZMaR9"},{"type":"text","value":" and ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"J92X43vB8G"},{"type":"link","url":"https://en.wikipedia.org/wiki/Manifold#Charts.2C_atlases.2C_and_transition_maps","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"charts","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"OQ2T2keL3U"}],"urlSource":"http://en.wikipedia.org/wiki/Manifold#Charts.2C_atlases.2C_and_transition_maps","data":{"page":"Manifold#Charts.2C_atlases.2C_and_transition_maps","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"uermOY0CcP"},{"type":"text","value":" are intimately linked concepts. We are only interested here in ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"mySqtHQzsf"},{"type":"link","url":"https://en.wikipedia.org/wiki/Differentiable_manifold#Definition","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"differentiable manifolds","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"JCsu3q1av9"}],"urlSource":"http://en.wikipedia.org/wiki/Differentiable_manifold#Definition","data":{"page":"Differentiable_manifold#Definition","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"Gd75stFwKL"},{"type":"text","value":", continuous spaces that can be locally approximated ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"ZU9CPa0Hir"},{"type":"emphasis","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"at any point","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"CD7JEiLrau"}],"key":"PdlyARum7T"},{"type":"text","value":" using a local vector space, called the ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"VPbk8RDgqx"},{"type":"link","url":"https://en.wikipedia.org/wiki/Tangent_space","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"tangent space","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"i9eyJQxAGy"}],"urlSource":"http://en.wikipedia.org/wiki/Tangent_space","data":{"page":"Tangent_space","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"Wz51k3puoJ"},{"type":"text","value":". A ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"QsQFkf3m5F"},{"type":"emphasis","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"chart","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"lte4zM2LD5"}],"key":"YrKly0RyGg"},{"type":"text","value":" is an invertible map from the manifold to that tangent space.","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"L2lPismCme"}],"key":"NkMQlpKbN7"},{"type":"paragraph","position":{"start":{"line":25,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"In GTSAM, all properties and operations needed to use a type must be defined through template specialization of the struct ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"U1V3Y6bvlA"},{"type":"inlineCode","value":"gtsam::traits","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"Iqw65Sxwcy"},{"type":"text","value":". Concept checks are used to check that all required functions are implemented.\nIn detail, we ask that the following items are defined in the traits object (although, not all are needed for optimization):","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"na0oozlQV3"}],"key":"spIObnfFFn"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":28,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":28,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"values:","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"Mmq9AVp5uB"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"inlineCode","value":"enum { dimension = D};","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"MabQarG5uP"},{"type":"text","value":", an enum that indicates the dimensionality ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"sKbdfWLVmW"},{"type":"emphasis","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"n","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"De8Ac3eWg3"}],"key":"aA9sQOAmes"},{"type":"text","value":" of the manifold. In Eigen-fashion, we also support manifolds whose dimensionality is only defined at runtime, by specifying the value -1.","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"wZ0mxX8bxD"}],"key":"YG4ERC1Hx2"}],"key":"koP3U2navc"}],"key":"NGeA7vuA7y"},{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"types:","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"yMogzIXM8n"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":31,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"inlineCode","value":"TangentVector","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"c4kVC5gf1k"},{"type":"text","value":", type that lives in tangent space. This will almost always be an ","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"pPohv4wY4W"},{"type":"inlineCode","value":"Eigen::Matrix<double,n,1>","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"xVdOlFbqiM"},{"type":"text","value":".","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"jvsk0ihPsw"}],"key":"rTIDBXs11J"},{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"inlineCode","value":"ChartJacobian","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"nZAMWLl9Qr"},{"type":"text","value":", a typedef for ","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"HPbYTir2mK"},{"type":"inlineCode","value":"OptionalJacobian<dimension, dimension>","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"POQaidkz3X"},{"type":"text","value":".","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"auRPUVIJ3s"}],"key":"X2dZkxVYeD"},{"type":"listItem","spread":true,"position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"inlineCode","value":"ManifoldType","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"UWx1HnAi0M"},{"type":"text","value":", a pointer back to the type.","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"GxItyKdMLf"}],"key":"VRruWMU8Wj"},{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"inlineCode","value":"structure_category","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"r44p56qTpw"},{"type":"text","value":", a tag type that defines what requirements the type fulfills, and therefore what requirements this traits class must fulfill. It should be defined to be one of the following:","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"vPBP5sDsqn"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":35,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"inlineCode","value":"gtsam::traits::manifold_tag","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"aOMRd0iwgT"},{"type":"text","value":" -- Everything in this list is expected","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"QCDk6LGiGJ"}],"key":"iQWDfk2cvR"},{"type":"listItem","spread":true,"position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"inlineCode","value":"gtsam::traits::group_tag","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"U8LOYGvsl5"},{"type":"text","value":" -- The functions defined under ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"iL7omcScAy"},{"type":"strong","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"Groups","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"lb3aVsGd5b"}],"key":"nN9KZi55f2"},{"type":"text","value":" below.","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"b7nGTXiXXt"}],"key":"WMmidEoN0a"},{"type":"listItem","spread":true,"position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"inlineCode","value":"gtsam::traits::lie_group_tag","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"DesNkS1BHe"},{"type":"text","value":" -- Everything in this list is expected, plus the functions defined under ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"UxJm50v846"},{"type":"strong","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"Groups","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"BDMI7kUHzU"}],"key":"km8fmjA4w8"},{"type":"text","value":", and ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"ZXfZ9ZFxNV"},{"type":"strong","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"Lie Groups","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"lP0oivSc8B"}],"key":"Z1Jyksz4vA"},{"type":"text","value":" below.","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"ASK1eDm7h9"}],"key":"nu6K0XQdwS"},{"type":"listItem","spread":true,"position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"inlineCode","value":"gtsam::traits::vector_space_tag","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"ttsIdg9XId"},{"type":"text","value":" -- Everything in this list is expected, plus the functions defined under ","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"qPjzGYQWA3"},{"type":"strong","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"Groups","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"hta9TNoMBb"}],"key":"g6QFjCZUkq"},{"type":"text","value":", and ","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"YSW8XvMNPc"},{"type":"strong","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"Lie Groups","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"icUT264XdM"}],"key":"ZI4B1nXB5d"},{"type":"text","value":" below.","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"JDyfA68b1Y"}],"key":"SonHVwj3HC"}],"key":"dIpjH9pGNl"}],"key":"mG8wn9tyyu"}],"key":"WzUtRBWGM8"}],"key":"QqQxJLOUkS"},{"type":"listItem","spread":true,"position":{"start":{"line":39,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"valid expressions:","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"HPxXfhgghO"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":40,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"inlineCode","value":"size_t dim = traits<T>::GetDimension(p);","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"WDri3I3q3S"},{"type":"text","value":" static function should be defined. This is mostly useful if the size is not known at compile time.","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"WXLr6WBx1j"}],"key":"Os264aaKzg"},{"type":"listItem","spread":true,"position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"inlineCode","value":"v = traits<T>::Local(p,q)","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"R2NXZQnoij"},{"type":"text","value":", the chart, from manifold to tangent space, think of it as ","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"pnz3HPNNHb"},{"type":"emphasis","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"q (-) p","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"CLXY6W7lnw"}],"key":"QwzuNra4fw"},{"type":"text","value":", where ","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"LbAoeiSqfD"},{"type":"emphasis","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"N7uGb9aDmb"}],"key":"PRMF2Kw1eV"},{"type":"text","value":" and ","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"TkimMz0Fc0"},{"type":"emphasis","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"q","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"PdqHeKN5zR"}],"key":"EsE24gvKY1"},{"type":"text","value":" are elements of the manifold and the result, ","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"OaN6Ut1r5P"},{"type":"emphasis","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"v","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"cb2vDGo6h2"}],"key":"mc9LtguOzF"},{"type":"text","value":" is an element of the vector space.","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"DiMdbFPcDd"}],"key":"VGJ9udEnWF"},{"type":"listItem","spread":true,"position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"inlineCode","value":"p = traits<T>::Retract(p,v)","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"Fo65OSjDIa"},{"type":"text","value":", the inverse chart, from tangent space to manifold, think of it as ","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"BaGDB9Abar"},{"type":"emphasis","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"p (+) v","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"p8TaTOOexm"}],"key":"kJ5SNz8S1z"},{"type":"text","value":", where ","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"A00mBCuQ4Y"},{"type":"emphasis","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"vkMLZT7dOu"}],"key":"fvZdvCB8wC"},{"type":"text","value":" is an element of the manifold and the result, ","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"AnN7Q07bXk"},{"type":"emphasis","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"v","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"fDcjjci7s0"}],"key":"bKTMUvSR7T"},{"type":"text","value":" is an element of the vector space.","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"Wn3Yfe6hrP"}],"key":"lRsmi01EQC"}],"key":"u4QcATZ0AY"}],"key":"RONjZvRrwI"},{"type":"listItem","spread":true,"position":{"start":{"line":43,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"invariants","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"GcwPulprPs"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":44,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"inlineCode","value":"Retract(p, Local(p,q)) == q","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"BGR40tBsSK"}],"key":"v4ZfsCHaj7"},{"type":"listItem","spread":true,"position":{"start":{"line":45,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"inlineCode","value":"Local(p, Retract(p, v)) == v","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"Nf11mhif0U"}],"key":"r6CWBwLRd2"}],"key":"bzduIHJaGn"}],"key":"kgcJjM04s3"}],"key":"KHHIXl6whf"},{"type":"heading","depth":3,"position":{"start":{"line":47,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"text","value":"Group","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"BKvUl2wl9O"}],"identifier":"group","label":"Group","html_id":"group","implicit":true,"key":"J3Fro6qA6V"},{"type":"paragraph","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"text","value":"A ","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"UAzyV74IMa"},{"type":"link","url":"%22http://en.wikipedia.org/wiki/Group_(mathematics)%22%22","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"text","value":"group","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"O5kURaHpSe"}],"urlSource":"%22http://en.wikipedia.org/wiki/Group_(mathematics)%22%22","key":"zPu9pWljZO"},{"type":"text","value":" should be well known from grade school :-), and provides a type with a composition operation that is closed, associative, has an identity element, and an inverse for each element. The following should be added to the traits class for a group:","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"d3q70JO0t6"}],"key":"livEWHjD0y"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":51,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":51,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"valid expressions:","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"uybQFZ5OEY"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":52,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"inlineCode","value":"r = traits<T>::Compose(p,q)","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"mrvnQa3eZg"},{"type":"text","value":", where ","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"CTpFDzoRvs"},{"type":"emphasis","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"zOUGElcddi"}],"key":"F3cuMyWtbt"},{"type":"text","value":", ","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"BS5JGs5PHa"},{"type":"emphasis","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"text","value":"q","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"O5WlP132kp"}],"key":"B0RAUa5CgT"},{"type":"text","value":", and ","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"z1V92RcSEr"},{"type":"emphasis","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"text","value":"r","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"pBhyCG4NLl"}],"key":"K3vryjtVFb"},{"type":"text","value":" are elements of the manifold.","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"t8AIifXVaB"}],"key":"jUQsFNXMtg"},{"type":"listItem","spread":true,"position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"inlineCode","value":"q = traits<T>::Inverse(p)","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"XHABUZJPJ5"},{"type":"text","value":", where ","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"MfWfng6slN"},{"type":"emphasis","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"xeUDmGz8EX"}],"key":"FJzbXCchUw"},{"type":"text","value":" and ","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"s5ygwFQ04m"},{"type":"emphasis","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"text","value":"q","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"wI8dTH4DSr"}],"key":"DC1xkIJsID"},{"type":"text","value":" are elements of the manifold.","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"CCgnh7vead"}],"key":"oF0XmXW5cc"},{"type":"listItem","spread":true,"position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"inlineCode","value":"r = traits<T>::Between(p,q)","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"SuZCywDn7C"},{"type":"text","value":", where ","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"af0m53KVDK"},{"type":"emphasis","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"TOBUebq7w3"}],"key":"gzZLruUwA5"},{"type":"text","value":", ","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"yyGPbtUYPV"},{"type":"emphasis","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"q","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"ylAdTgUCbw"}],"key":"lNbp0y8LiP"},{"type":"text","value":", and ","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"Rhyb5CNSOo"},{"type":"emphasis","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"r","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"rGsx1Bl0PX"}],"key":"kXaDRqySr0"},{"type":"text","value":" are elements of the manifold.","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"DJxFBVHEul"}],"key":"gob3mykFRP"}],"key":"j1HeYEREkF"}],"key":"O78mqnAiZV"},{"type":"listItem","spread":true,"position":{"start":{"line":55,"column":1},"end":{"line":56,"column":1}},"children":[{"type":"text","value":"static members:","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"E1jlQ9Tj4v"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"children":[{"type":"inlineCode","value":"traits<T>::Identity","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"key":"a4ONJdxpKL"},{"type":"text","value":", a static const member that represents the group’s identity element.","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"key":"imFnlzSPKq"}],"key":"E64LzCqIA9"}],"key":"sTStUMgHN9"}],"key":"zfhbmzKMHw"},{"type":"listItem","spread":true,"position":{"start":{"line":57,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"text","value":"invariants:","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"DdhVk6lINK"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":58,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"children":[{"type":"inlineCode","value":"Compose(p,Inverse(p)) == Identity","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"WVmPkKFr7J"}],"key":"WqE7eOy4M2"},{"type":"listItem","spread":true,"position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"inlineCode","value":"Compose(p,Between(p,q)) == q","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"wraQu1H0SR"}],"key":"iQ0I7EtOYn"},{"type":"listItem","spread":true,"position":{"start":{"line":60,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"inlineCode","value":"Between(p,q) == Compose(Inverse(p),q)","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"g9EGpkCS5m"}],"key":"iXUAn8WnKQ"}],"key":"S4Zt6BLfLd"}],"key":"CjEiP1ZtQm"}],"key":"ONVMISdbzX"},{"type":"paragraph","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"wo0NswCkWA"},{"type":"inlineCode","value":"gtsam::group::traits","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"UM9KCMo277"},{"type":"text","value":" namespace defines the following:","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"diDPtfL9SH"}],"key":"UTMicmi3yQ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":63,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":63,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"text","value":"values:","position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"key":"i1SI0B40Rk"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":64,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"children":[{"type":"inlineCode","value":"traits<T>::Identity","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"key":"EV8KuM9HFn"},{"type":"text","value":" -- The identity element for this group stored as a static const.","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"key":"ZFOP4buPFb"}],"key":"E1r7bbt8Zk"},{"type":"listItem","spread":true,"position":{"start":{"line":65,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"inlineCode","value":"traits<T>::group_flavor","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"aSuw7iwyZR"},{"type":"text","value":" -- the flavor of this group’s ","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"FmI2xYIQs0"},{"type":"inlineCode","value":"compose()","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"sEQYrilsuT"},{"type":"text","value":" operator, either:","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"ZQPzlbR2By"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":66,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"children":[{"type":"inlineCode","value":"gtsam::traits::group_multiplicative_tag","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"DeqTU7Dq9W"},{"type":"text","value":" for multiplicative operator syntax, or","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"lP4d2xdUOJ"}],"key":"lLsKHrrVWj"},{"type":"listItem","spread":true,"position":{"start":{"line":67,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"inlineCode","value":"gtsam::traits::group_additive_tag","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"jVWwEbi4FX"},{"type":"text","value":" for additive operator syntax.","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"OPl8C9Pojq"}],"key":"OcAX7NRtuK"}],"key":"fwzUqz7prz"}],"key":"VtUChXy1Qh"}],"key":"KkyAvoWukJ"}],"key":"ziRU998O4J"}],"key":"fd2HxDupud"},{"type":"paragraph","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"children":[{"type":"text","value":"We do ","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"KZFMcB0TJu"},{"type":"emphasis","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"children":[{"type":"text","value":"not","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"MdHPc8QB6G"}],"key":"pslLRCpaSb"},{"type":"text","value":" at this time support more than one composition operator per type. Although mathematically possible, it is hardly ever needed, and the machinery to support it would be burdensome and counter-intuitive.","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"XFMJ2giHJT"}],"key":"E0JbRYiMlo"},{"type":"paragraph","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"text","value":"Also, a type should provide either multiplication or addition operators depending on the flavor of the operation. To distinguish between the two, we will use a tag (see below).","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"lmExMURYY9"}],"key":"vCSDRTzmP0"},{"type":"heading","depth":3,"position":{"start":{"line":73,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"text","value":"Lie Group","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"key":"xJqTXCPlOu"}],"identifier":"lie-group","label":"Lie Group","html_id":"lie-group","implicit":true,"key":"d3ceDdbkhU"},{"type":"paragraph","position":{"start":{"line":76,"column":1},"end":{"line":78,"column":1}},"children":[{"type":"text","value":"A Lie group is both a manifold ","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"n7zfCVnvTe"},{"type":"emphasis","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"children":[{"type":"text","value":"and","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"q8G9pvodAW"}],"key":"yt4BVPXs2I"},{"type":"text","value":" a group. Hence, a LIE_GROUP type should implements both MANIFOLD and GROUP concepts.\nHowever, we now also need to be able to evaluate the derivatives of compose and inverse.\nHence, we have the following extra valid static functions defined in the struct ","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"ddD0rBMoMn"},{"type":"inlineCode","value":"gtsam::traits<T>","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"efmmbUKIIo"},{"type":"text","value":":","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"dLFJoUanBR"}],"key":"Xv1KQ5XQiz"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":80,"column":1},"end":{"line":83,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"children":[{"type":"inlineCode","value":"r = traits<T>::Compose(p,q,Hq,Hp)","position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"key":"bbj3n5Si5y"}],"key":"hShaC0Omoa"},{"type":"listItem","spread":true,"position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"children":[{"type":"inlineCode","value":"q = traits<T>::Inverse(p,Hp)","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"key":"l5iD9hRTHI"}],"key":"qIwTfgB5T6"},{"type":"listItem","spread":true,"position":{"start":{"line":82,"column":1},"end":{"line":83,"column":1}},"children":[{"type":"inlineCode","value":"r = traits<T>::Between(p,q,Hq,H2p)","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"key":"bCpFUf1AZG"}],"key":"FiDeoG4VJP"}],"key":"mM8cwEwN0D"},{"type":"paragraph","position":{"start":{"line":84,"column":1},"end":{"line":85,"column":1}},"children":[{"type":"text","value":"where above the ","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"EcmdCWkcmW"},{"type":"emphasis","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"children":[{"type":"text","value":"H","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"pA2iKkhW5d"}],"key":"B353cobzQi"},{"type":"text","value":" arguments stand for optional Jacobian arguments.\nThat makes it possible to create factors implementing priors (PriorFactor) or relations between two instances of a Lie group type (BetweenFactor).","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"yN5HYqQ4Vf"}],"key":"bbT5LMmwAI"},{"type":"paragraph","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"children":[{"type":"text","value":"In addition, a Lie group has a Lie algebra, which affords two extra valid expressions:","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"N2c8eCW0qo"}],"key":"uRwbMjEMtZ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":89,"column":1},"end":{"line":91,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"children":[{"type":"inlineCode","value":"v = traits<T>::Logmap(p,Hp)","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"arH5A72jCD"},{"type":"text","value":", the log map, with optional Jacobian","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"PMeLyxYxfW"}],"key":"SAQdMcyENQ"},{"type":"listItem","spread":true,"position":{"start":{"line":90,"column":1},"end":{"line":91,"column":1}},"children":[{"type":"inlineCode","value":"p = traits<T>::Expmap(v,Hv)","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"TV8etSkrbE"},{"type":"text","value":", the exponential map, with optional Jacobian","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"BsulhDkJzH"}],"key":"AhJ0cl21WB"}],"key":"nAwwBLM6nE"},{"type":"paragraph","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"text","value":"Note that in the Lie group case, the usual valid expressions for Retract and Local can be generated automatically, e.g.","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"UssOLKnE1f"}],"key":"BSmMmn22iU"},{"type":"code","lang":"","value":"    T Retract(p,v,Hp,Hv) {\n      T q = Expmap(v,Hqv);\n      T r = Compose(p,q,Hrp,Hrq);\n      Hv = Hrq * Hqv; // chain rule\n      return r;\n    }","position":{"start":{"line":94,"column":1},"end":{"line":101,"column":1}},"key":"vnsZBwryrn"},{"type":"paragraph","position":{"start":{"line":103,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"text","value":"For Lie groups, the ","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"LDXaGfxawx"},{"type":"inlineCode","value":"exponential map","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"cRB5FUiWYJ"},{"type":"text","value":" above is the most obvious mapping: it\nassociates straight lines in the tangent space with geodesics on the manifold\n(and it’s inverse, the log map). However, there are several cases in which we deviate from this:","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"kcpEdR4KFz"}],"key":"BH3gsvRC20"},{"type":"paragraph","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"However, the exponential map is unnecessarily expensive for use in optimization. Hence, in GTSAM there is the option to provide a cheaper chart by means of the ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"vB8sNsITfK"},{"type":"inlineCode","value":"ChartAtOrigin","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"MquobuW5Gj"},{"type":"text","value":" struct in a class. This is done for ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"mPzaIHoc20"},{"type":"emphasis","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"SE(2)","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"YFePnwx2TP"}],"key":"tEYOzuUEc1"},{"type":"text","value":", ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"OEM85bzXFF"},{"type":"emphasis","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"SO(3)","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"LdcqtmMFD2"}],"key":"xNVvKj4FXP"},{"type":"text","value":" and ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"ZcSzwKJrLl"},{"type":"emphasis","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"SE(3)","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"T9vHdDClJA"}],"key":"JsnqbHRAQu"},{"type":"text","value":" (see ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"qkMAaetEpZ"},{"type":"inlineCode","value":"Pose2","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"Q5UIAFWc5E"},{"type":"text","value":", ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"tuOFWowUWI"},{"type":"inlineCode","value":"Rot3","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"m8KarUtST3"},{"type":"text","value":", ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"ivEyzCfFQ8"},{"type":"inlineCode","value":"Pose3","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"yMpkj76fRK"},{"type":"text","value":")","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"kxQOURaFtg"}],"key":"Nq366WyOnp"},{"type":"paragraph","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"text","value":"Most Lie groups we care about are ","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"lUUJNHipkF"},{"type":"emphasis","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"text","value":"Matrix groups","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"zOuNW0m1sf"}],"key":"WQgududsaG"},{"type":"text","value":", continuous sub-groups of ","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"iUHCxnslcX"},{"type":"emphasis","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"text","value":"GL(n)","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"lG0RPE9XXR"}],"key":"lGuIaxaGSA"},{"type":"text","value":", the group of ","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"cnM4YOhozd"},{"type":"emphasis","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"text","value":"n x n","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"SIWICCfcPU"}],"key":"mucZdwh7Zr"},{"type":"text","value":" invertible matrices. In this case, a lot of the derivatives calculations needed can be standardized, and this is done by the ","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"whyotfgRMT"},{"type":"inlineCode","value":"LieGroup","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"U54izFy5P1"},{"type":"text","value":" superclass. You only need to provide an ","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"MGZmdajTPy"},{"type":"inlineCode","value":"AdjointMap","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"zmW8zTozgC"},{"type":"text","value":" method.","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"Cnhd9tA1aP"}],"key":"w2w2EhG63B"},{"type":"paragraph","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"A CRTP helper class ","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"NtkHYU0v8S"},{"type":"inlineCode","value":"LieGroup","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"H0zd70VO4a"},{"type":"text","value":" is available that can take a class and create some of the Lie group methods automatically. The class needs:","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"eKfMXpAoXF"}],"key":"deRdRiLLP8"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":113,"column":1},"end":{"line":118,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"text","value":"operator* : implements group operator","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"aSYRhnjTD3"}],"key":"Ae7Hw6AfR9"},{"type":"listItem","spread":true,"position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"children":[{"type":"text","value":"inverse: implements group inverse","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"PuJ2B7NBng"}],"key":"CSnBYRdE2r"},{"type":"listItem","spread":true,"position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"text","value":"AdjointMap: maps tangent vectors according to group element","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"key":"uXjgzHvhOx"}],"key":"YX86VBhg2t"},{"type":"listItem","spread":true,"position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"children":[{"type":"text","value":"Expmap/Logmap: exponential map and its inverse","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"j1kUi1ocGF"}],"key":"DYIVg3e0XC"},{"type":"listItem","spread":true,"position":{"start":{"line":117,"column":1},"end":{"line":118,"column":1}},"children":[{"type":"text","value":"ChartAtOrigin: struct where you define Retract/Local at origin","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"ZwZhyekCnR"}],"key":"HHTD1iSX2f"}],"key":"BhHYbqSMD0"},{"type":"paragraph","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"text","value":"To use, simply derive, but also say ","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"uk2nLWF3YA"},{"type":"inlineCode","value":"using LieGroup<Class,N>::inverse","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"Z2trn0qwNU"},{"type":"text","value":" so you get an inverse with a derivative.","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"HCjcBWD3w2"}],"key":"inUfHgPMT5"},{"type":"paragraph","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"children":[{"type":"text","value":"Finally, to create the traits automatically you can use ","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"KR6wjl92tX"},{"type":"inlineCode","value":"internal::LieGroupTraits<Class>","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"QuWwkDPQw1"}],"key":"Bkb5Eke64O"},{"type":"heading","depth":3,"position":{"start":{"line":123,"column":1},"end":{"line":124,"column":1}},"children":[{"type":"text","value":"Vector Space","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"Bq9FQm1g1L"}],"identifier":"vector-space","label":"Vector Space","html_id":"vector-space","implicit":true,"key":"FVlWwcR1yM"},{"type":"paragraph","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"children":[{"type":"text","value":"While vector spaces are in principle also manifolds, it is overkill to think about charts etc. Really, we should simply think about vector addition and subtraction. I.e. where","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"V7J7x8LonX"}],"key":"h7CykDD3Gf"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":128,"column":1},"end":{"line":134,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"inlineCode","value":"Identity == 0","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"IAZTHL1VBV"}],"key":"I3tzjUTxF3"},{"type":"listItem","spread":true,"position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"inlineCode","value":"Inverse(p) == -p","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"pzt6zc5rW6"}],"key":"xYVIgo2NqX"},{"type":"listItem","spread":true,"position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"children":[{"type":"inlineCode","value":"Compose(p,q) == p+q","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"AYe8VwLU9F"}],"key":"uZPS96jW3D"},{"type":"listItem","spread":true,"position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"children":[{"type":"inlineCode","value":"Between(p,q) == q-p","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"NwtktjQ1CX"}],"key":"ioyLZgE1lg"},{"type":"listItem","spread":true,"position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"children":[{"type":"inlineCode","value":"Local(q) == p-q","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"Canab5ZQgY"}],"key":"WDNs63nVdF"},{"type":"listItem","spread":true,"position":{"start":{"line":133,"column":1},"end":{"line":134,"column":1}},"children":[{"type":"inlineCode","value":"Retract(v) == p+v","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"txOy8zCllC"}],"key":"Eql53claJN"}],"key":"azFnsQLZFp"},{"type":"paragraph","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"children":[{"type":"text","value":"This considerably simplifies certain operations. A ","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"XM3EtwoCvr"},{"type":"inlineCode","value":"VectorSpace","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"g3NFh8JhhA"},{"type":"text","value":" superclass is available to implement the traits. Types that are vector space models include ","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"Zfs7pqpyiX"},{"type":"inlineCode","value":"Matrix","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"mOzTv4qhiM"},{"type":"text","value":", ","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"e0jtlMPcIF"},{"type":"inlineCode","value":"Vector","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"opWZMhmE5I"},{"type":"text","value":", any fixed or dynamic Eigen Matrix, ","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"Iwfr7gghRg"},{"type":"inlineCode","value":"Point2","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"bd6fDbUMUs"},{"type":"text","value":", and ","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"QQ7hsyDdF0"},{"type":"inlineCode","value":"Point3","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"wH1CMs7CnS"},{"type":"text","value":".","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"YWGhUlOkct"}],"key":"u9PeWY7Q0r"},{"type":"heading","depth":3,"position":{"start":{"line":137,"column":1},"end":{"line":138,"column":1}},"children":[{"type":"text","value":"Testable","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"vlDvC2hy0R"}],"identifier":"testable","label":"Testable","html_id":"testable","implicit":true,"key":"AQ2b9LTMiU"},{"type":"paragraph","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"children":[{"type":"text","value":"Unit tests heavily depend on the following two functions being defined for all types that need to be tested:","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"key":"SPcsEYTfK0"}],"key":"FSS9jM6R5J"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":141,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":141,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"text","value":"valid expressions:","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"aYNRuhAHFN"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":142,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"children":[{"type":"inlineCode","value":"Print(p,s)","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"key":"axiZDYsQUk"},{"type":"text","value":" where s is an optional string","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"key":"nRJ0qFn59g"}],"key":"mkaRnJuhpg"},{"type":"listItem","spread":true,"position":{"start":{"line":143,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"inlineCode","value":"Equals(p,q,tol)","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"c4iBJ8BSMb"},{"type":"text","value":" where tol is an optional (double) tolerance","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"evhicGUPl2"}],"key":"OU4x08Uy4c"}],"key":"HnPfnr6RYX"}],"key":"UVRMw8Bd9N"}],"key":"GAkN0zquTb"},{"type":"heading","depth":2,"position":{"start":{"line":145,"column":1},"end":{"line":146,"column":1}},"children":[{"type":"text","value":"Implementation","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"Q4NKn3i2uG"}],"identifier":"implementation","label":"Implementation","html_id":"implementation","implicit":true,"key":"PCDkoNGdjD"},{"type":"paragraph","position":{"start":{"line":148,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"text","value":"GTSAM Types start with Uppercase, e.g., ","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"UXpg32YAGH"},{"type":"inlineCode","value":"gtsam::Point2","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"N2yZ5huoJo"},{"type":"text","value":", and are models of the\nTESTABLE, MANIFOLD, GROUP, LIE_GROUP, and VECTOR_SPACE concepts.","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"cFCwl2GfP5"}],"key":"oWqCbkse3X"},{"type":"paragraph","position":{"start":{"line":151,"column":1},"end":{"line":153,"column":1}},"children":[{"type":"inlineCode","value":"gtsam::traits","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"WYPAiBX3L4"},{"type":"text","value":" is our way to associate these concepts with types,\nand we also define a limited number of ","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"m7ggYElIcR"},{"type":"inlineCode","value":"gtsam::tags","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"fnzRX749o6"},{"type":"text","value":" to select the correct implementation\nof certain functions at compile time (tag dispatching).","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"jdlrJGJoKI"}],"key":"zjPK9fCXdv"},{"type":"heading","depth":3,"position":{"start":{"line":155,"column":1},"end":{"line":156,"column":1}},"children":[{"type":"text","value":"Traits","position":{"start":{"line":155,"column":1},"end":{"line":155,"column":1}},"key":"fbyEj3Iaff"}],"identifier":"traits","label":"Traits","html_id":"traits","implicit":true,"key":"pZbyt1oD5I"},{"type":"paragraph","position":{"start":{"line":158,"column":1},"end":{"line":160,"column":1}},"children":[{"type":"text","value":"However, a base class is not a good way to implement/check the other concepts, as we would like these\nto apply equally well to types that are outside GTSAM control, e.g., ","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"wMdviOvRHn"},{"type":"inlineCode","value":"Eigen::VectorXd","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"E85pGgFI4v"},{"type":"text","value":". This is where\n","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"eGxB4fGXOc"},{"type":"link","url":"http://www.boost.org/doc/libs/1_57_0/libs/type_traits/doc/html/boost_typetraits/background.html","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"children":[{"type":"text","value":"traits","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"oNp9K3vm0q"}],"urlSource":"http://www.boost.org/doc/libs/1_57_0/libs/type_traits/doc/html/boost_typetraits/background.html","key":"EFmkFHRsel"},{"type":"text","value":" come in.","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"sZBLtVoBLr"}],"key":"W2H1VWS0bU"},{"type":"paragraph","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"text","value":"We use Eigen-style or STL-style traits, that define ","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"In2UR2cC6k"},{"type":"emphasis","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"text","value":"many","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"vISLaKICEO"}],"key":"uZ8PW81hb6"},{"type":"text","value":" properties at once.","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"buc5kkje6l"}],"key":"us0WGAz2ma"},{"type":"paragraph","position":{"start":{"line":164,"column":1},"end":{"line":167,"column":1}},"children":[{"type":"text","value":"Note that not everything that makes a concept is defined by traits. Valid expressions such as ","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"C5EMAgMPPI"},{"type":"inlineCode","value":"traits<T>::Compose","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"pfXHqTjfIe"},{"type":"text","value":" are\ndefined simply as static functions within the traits class.\nFinally, for GTSAM types, it is perfectly acceptable (and even desired) to define associated types as internal types,\nrather than having to use traits internally.","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"NlLT471Dq5"}],"key":"hhhtaj20l4"},{"type":"heading","depth":3,"position":{"start":{"line":169,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"Concept Checks","position":{"start":{"line":169,"column":1},"end":{"line":169,"column":1}},"key":"AUnK2G7JWh"}],"identifier":"concept-checks","label":"Concept Checks","html_id":"concept-checks","implicit":true,"key":"JBy85PjqFb"},{"type":"paragraph","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"Boost provides a nice way to check whether a given type satisfies a concept. For example, the following","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"JHnRHtaUtv"}],"key":"JE40zg64kD"},{"type":"code","lang":"","value":"BOOST_CONCEPT_ASSERT(IsVectorSpace<Point2>)","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"zAT4442j85"},{"type":"paragraph","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"children":[{"type":"text","value":"asserts that Point2 indeed is a model for the VectorSpace concept.","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"zxEQhX1Xgp"}],"key":"M0eiVGeqIY"},{"type":"heading","depth":2,"position":{"start":{"line":178,"column":1},"end":{"line":179,"column":1}},"children":[{"type":"text","value":"Future Concepts","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"key":"pqaU3tMu7m"}],"identifier":"future-concepts","label":"Future Concepts","html_id":"future-concepts","implicit":true,"key":"igT7g7S0yr"},{"type":"heading","depth":3,"position":{"start":{"line":182,"column":1},"end":{"line":183,"column":1}},"children":[{"type":"text","value":"Group Action","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"FkwDz50doI"}],"identifier":"group-action","label":"Group Action","html_id":"group-action","implicit":true,"key":"TLnJ180FN6"},{"type":"paragraph","position":{"start":{"line":185,"column":1},"end":{"line":187,"column":1}},"children":[{"type":"text","value":"Group actions are concepts in and of themselves that can be concept checked (see below).\nIn particular, a group can ","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"d6Xfu0GcAA"},{"type":"emphasis","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"children":[{"type":"text","value":"act","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"JhpttdM8bQ"}],"key":"DwsLfUXorj"},{"type":"text","value":" on another space.\nFor example, the ","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"VBOdnsdW9y"},{"type":"link","url":"https://en.wikipedia.org/wiki/Cyclic_group","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"children":[{"type":"text","value":"cyclic group of order 6","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"lgmiTceES8"}],"urlSource":"http://en.wikipedia.org/wiki/Cyclic_group","data":{"page":"Cyclic_group","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"xYZHFOVqid"},{"type":"text","value":" can rotate 2D vectors around the origin:","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"vXKXIDtt3y"}],"key":"IHgW4cwDlh"},{"type":"code","lang":"","value":"q = R(i)*p\nwhere R(i) = R(60)^i, where R(60) rotates by 60 degrees","position":{"start":{"line":189,"column":1},"end":{"line":190,"column":1}},"key":"bbUxqml5Ge"},{"type":"paragraph","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"children":[{"type":"text","value":"Hence, we formalize by the following extension of the concept:","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"key":"wrrukXYkVb"}],"key":"rAsJxsLWXN"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":194,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":194,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"text","value":"valid expressions:","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"TzSIAYWclG"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":195,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"inlineCode","value":"q = traits<T>::Act(g,p)","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"jxPsZZdsQm"},{"type":"text","value":", for some instance, ","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"FgdPlp7F36"},{"type":"emphasis","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"GDoaQLcoLA"}],"key":"VvWkY0Gz0g"},{"type":"text","value":",  of a space ","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"DtPDAyxmTY"},{"type":"emphasis","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"text","value":"S","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"XmggLF1UOh"}],"key":"Jm07liBuQY"},{"type":"text","value":", that can be acted upon by the group element ","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"tu7ylsVJ0S"},{"type":"emphasis","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"text","value":"g","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"eixz9vgH3N"}],"key":"pYV4msgV6G"},{"type":"text","value":" to produce ","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"jSpE9mhaaN"},{"type":"emphasis","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"text","value":"q","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"s8JOniOHuu"}],"key":"HLOq3N3DtY"},{"type":"text","value":" in ","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"ozfX1jFXna"},{"type":"emphasis","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"text","value":"S","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"PVqapWodpz"}],"key":"cOSHTP7PF5"},{"type":"text","value":".","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"ClB49unXkC"}],"key":"wAw1H5SeWi"},{"type":"listItem","spread":true,"position":{"start":{"line":196,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"inlineCode","value":"q = traits<T>::Act(g,p,Hp)","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"key":"W2aAZL1HSY"},{"type":"text","value":", if the space acted upon is a continuous differentiable manifold.","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"key":"YSAAAPCJ6A"}],"key":"IifZZYqTqH"}],"key":"sxQoZoDMTS"}],"key":"SOm1j5j69D"}],"key":"rxdhC9IWIq"},{"type":"paragraph","position":{"start":{"line":198,"column":1},"end":{"line":201,"column":1}},"children":[{"type":"text","value":"In the latter case, if ","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"kouOiH0AJM"},{"type":"emphasis","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"S","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"HSmduImMeE"}],"key":"sd4yqeq6sV"},{"type":"text","value":" is an n-dimensional manifold, ","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"vcDIuVPGjZ"},{"type":"emphasis","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"Hp","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"skTcs6YASR"}],"key":"obHHi2kZmr"},{"type":"text","value":" is an output argument that should be\nfilled with the ","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"PihS5kpbkG"},{"type":"emphasis","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"nxn","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"Y5rgFKy573"}],"key":"cc91sB03VZ"},{"type":"text","value":" Jacobian matrix of the action with respect to a change in ","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"TVGg50rx2q"},{"type":"emphasis","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"zkJZS4dUnx"}],"key":"gB8Z0HAUnO"},{"type":"text","value":". It typically depends\non the group element ","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"vHb4dJJ6Jg"},{"type":"emphasis","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"g","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"aMYvqdE6tn"}],"key":"whNJHdw0I2"},{"type":"text","value":", but in most common examples will ","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"SpuzBp6GKU"},{"type":"emphasis","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"not","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"BQAFq1DVcv"}],"key":"i8rGk3yLFQ"},{"type":"text","value":" depend on the value of ","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"CrWbkkrMu9"},{"type":"emphasis","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"H6CIfybLWe"}],"key":"RreKKgCPLf"},{"type":"text","value":". For example, in\nthe cyclic group example above, we simply have","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"UiEKsFCKK9"}],"key":"SAmoh0z54s"},{"type":"code","lang":"","value":"Hp = R(i)","position":{"start":{"line":203,"column":1},"end":{"line":203,"column":1}},"key":"Cnt1JY70hI"},{"type":"paragraph","position":{"start":{"line":205,"column":1},"end":{"line":206,"column":1}},"children":[{"type":"text","value":"Note there is no derivative of the action with respect to a change in g. That will only be defined\nfor Lie groups, which we introduce now.","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"key":"yMqdAXYuqL"}],"key":"znFGymAPFI"},{"type":"heading","depth":3,"position":{"start":{"line":209,"column":1},"end":{"line":210,"column":1}},"children":[{"type":"text","value":"Lie Group Action","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"key":"Dee7lBAwev"}],"identifier":"lie-group-action","label":"Lie Group Action","html_id":"lie-group-action","implicit":true,"key":"IWsvrfAvUm"},{"type":"paragraph","position":{"start":{"line":212,"column":1},"end":{"line":212,"column":1}},"children":[{"type":"text","value":"When a Lie group acts on a space, we have two derivatives to care about:","position":{"start":{"line":212,"column":1},"end":{"line":212,"column":1}},"key":"NdS8Fz1rtm"}],"key":"pxzTS3Phv5"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":214,"column":1},"end":{"line":215,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":214,"column":1},"end":{"line":215,"column":1}},"children":[{"type":"inlineCode","value":"gtasm::manifold::traits<T>::act(g,p,Hg,Hp)","position":{"start":{"line":214,"column":1},"end":{"line":214,"column":1}},"key":"quMr7GUruy"},{"type":"text","value":", if the space acted upon is a continuous differentiable manifold.","position":{"start":{"line":214,"column":1},"end":{"line":214,"column":1}},"key":"ZL9aRAZeqJ"}],"key":"hcky0ZpH3u"}],"key":"IiYXyIxhSU"},{"type":"paragraph","position":{"start":{"line":216,"column":1},"end":{"line":216,"column":1}},"children":[{"type":"text","value":"An example is a ","position":{"start":{"line":216,"column":1},"end":{"line":216,"column":1}},"key":"QWyuaUuaNf"},{"type":"emphasis","position":{"start":{"line":216,"column":1},"end":{"line":216,"column":1}},"children":[{"type":"text","value":"similarity transform","position":{"start":{"line":216,"column":1},"end":{"line":216,"column":1}},"key":"Jpx45nUk4x"}],"key":"sYtl8MCxrk"},{"type":"text","value":" in 3D, which can act on 3D space, like","position":{"start":{"line":216,"column":1},"end":{"line":216,"column":1}},"key":"jS5mcUcWhv"}],"key":"eoxZTztWT1"},{"type":"code","lang":"","value":"q = s*R*p + t","position":{"start":{"line":218,"column":1},"end":{"line":218,"column":1}},"key":"oCjyas9w76"},{"type":"paragraph","position":{"start":{"line":220,"column":1},"end":{"line":221,"column":1}},"children":[{"type":"text","value":"Note that again the derivative in ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"oMslVPGI7X"},{"type":"emphasis","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"bPGD14lar4"}],"key":"ve1i2vyH3k"},{"type":"text","value":", ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"UErkXLzEgP"},{"type":"emphasis","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"Hp","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"pSYQlfkLCJ"}],"key":"A5xZecB9Kx"},{"type":"text","value":" is simply ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"UhzIdaXncK"},{"type":"emphasis","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"s R","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"CRPeRf1LF6"}],"key":"hGf7zGvltR"},{"type":"text","value":", which depends on ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"JLxhluZb5u"},{"type":"emphasis","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"g","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"YRcGUfaIfr"}],"key":"SRoz10MevB"},{"type":"text","value":" but not on ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"g8btP1fYy8"},{"type":"emphasis","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"tx8AeaRZSY"}],"key":"Ffb0TCBV0Y"},{"type":"text","value":".\nThe derivative in ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"RIiwvlJ52T"},{"type":"emphasis","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"g","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"zfs5NIp43t"}],"key":"mALDnTIgcE"},{"type":"text","value":", ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"OrY19BcvW9"},{"type":"emphasis","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"Hg","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"zgVIHGCAgn"}],"key":"hU5La1kFPu"},{"type":"text","value":", is in general more complex.","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"cucI5jl1sQ"}],"key":"hrqI4ZwoHC"},{"type":"paragraph","position":{"start":{"line":223,"column":1},"end":{"line":223,"column":1}},"children":[{"type":"text","value":"For now, we won’t care about Lie groups acting on non-manifolds.","position":{"start":{"line":223,"column":1},"end":{"line":223,"column":1}},"key":"zZ42i8tOjC"}],"key":"h4OhwQXrYV"}],"key":"l8oiT6N3kn"}],"key":"GL5A6oB7Tf"},"references":{"cite":{"order":[],"data":{}}}}