{"version":1,"kind":"Article","sha256":"11619dd6ef67c72cf80798c012422ee05febc14d195b5452749d45483f53512c","slug":"content.notes.gtsam-concepts","location":"/Content/Notes/GTSAM-Concepts.md","dependencies":[],"frontmatter":{"title":"GTSAM Concepts","date":"2019-05-18","github":"https://github.com/borglab/gtsam","numbering":{"title":{"offset":1}},"edit_url":"https://github.com/borglab/gtsam/blob/docs/ktk-sdk/Content/Notes/GTSAM-Concepts.md","exports":[{"format":"md","filename":"GTSAM-Concepts.md","url":"/GTSAM-Concepts-152c09953a4a0811880269ee57ce38d5.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"As discussed in ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"tsLxZHSA9P"},{"type":"link","url":"http://www.boost.org/community/generic_programming.html","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Generic Programming Techniques","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"CWBwY5V8mh"}],"urlSource":"http://www.boost.org/community/generic_programming.html","key":"p5EgTeURcY"},{"type":"text","value":", concepts define","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"H5CwmXkst1"}],"key":"vIipCGl4u1"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"associated types","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"ILweZtlR41"}],"key":"WXb3Q37g6C"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"valid expressions, like functions and values","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"YQzWPCPmIK"}],"key":"rByBpY8CLj"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"invariants","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"MyMj1XaJcf"}],"key":"NO6osAL7uo"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"complexity guarantees","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"c3R2cpYinW"}],"key":"zTJ2QhRE7J"}],"key":"fcPpefXDOZ"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Below we discuss the most important concepts use in GTSAM, and after that we discuss how they are implemented/used/enforced.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"swUmRqEwPG"}],"key":"zeUL7BlqYQ"},{"type":"heading","depth":3,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Manifold","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"iv1WYlvC6j"}],"identifier":"manifold","label":"Manifold","html_id":"manifold","implicit":true,"key":"EzUNMe5RER"},{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"To optimize over continuous types, we assume they are manifolds. This is central to GTSAM and hence discussed in some more detail below.","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"mP59XXmpwP"}],"key":"UEoDxlTVXC"},{"type":"paragraph","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"link","url":"https://en.wikipedia.org/wiki/Manifold#Charts.2C_atlases.2C_and_transition_maps","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Manifolds","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"LNrkjB8KHf"}],"urlSource":"http://en.wikipedia.org/wiki/Manifold#Charts.2C_atlases.2C_and_transition_maps","data":{"page":"Manifold#Charts.2C_atlases.2C_and_transition_maps","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"Gv5y7dAnnV"},{"type":"text","value":" and ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"gqn6vKLRt8"},{"type":"link","url":"https://en.wikipedia.org/wiki/Manifold#Charts.2C_atlases.2C_and_transition_maps","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"charts","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"B1BHl8C69i"}],"urlSource":"http://en.wikipedia.org/wiki/Manifold#Charts.2C_atlases.2C_and_transition_maps","data":{"page":"Manifold#Charts.2C_atlases.2C_and_transition_maps","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"P0CBfgau6t"},{"type":"text","value":" are intimately linked concepts. We are only interested here in ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"VQDlEYUOpA"},{"type":"link","url":"https://en.wikipedia.org/wiki/Differentiable_manifold#Definition","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"differentiable manifolds","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"NQxClsfvSH"}],"urlSource":"http://en.wikipedia.org/wiki/Differentiable_manifold#Definition","data":{"page":"Differentiable_manifold#Definition","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"OVvh4nqhOs"},{"type":"text","value":", continuous spaces that can be locally approximated ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"ADoWtkJZ2W"},{"type":"emphasis","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"at any point","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"D0Xmqyvwqj"}],"key":"qud2EykxXB"},{"type":"text","value":" using a local vector space, called the ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"nond8MYpLk"},{"type":"link","url":"https://en.wikipedia.org/wiki/Tangent_space","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"tangent space","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"Br50FezkCV"}],"urlSource":"http://en.wikipedia.org/wiki/Tangent_space","data":{"page":"Tangent_space","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"zTt6P4WvnB"},{"type":"text","value":". A ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"Hx9U0s1SGa"},{"type":"emphasis","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"chart","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"UiVkAfzzBj"}],"key":"g90DSACF0Z"},{"type":"text","value":" is an invertible map from the manifold to that tangent space.","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"gelXiJHb3O"}],"key":"lyaWSiuyrI"},{"type":"paragraph","position":{"start":{"line":25,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"In GTSAM, all properties and operations needed to use a type must be defined through template specialization of the struct ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"vRhAlf7Asj"},{"type":"inlineCode","value":"gtsam::traits","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"NjvCNBnzc6"},{"type":"text","value":". Concept checks are used to check that all required functions are implemented.\nIn detail, we ask that the following items are defined in the traits object (although, not all are needed for optimization):","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"hn5BlKvEEr"}],"key":"VvchYXvFhM"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":28,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":28,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"values:","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"KAgJWZMtJ0"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"inlineCode","value":"enum { dimension = D};","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"o2VgXoojnq"},{"type":"text","value":", an enum that indicates the dimensionality ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"TPppbjzhDy"},{"type":"emphasis","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"n","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"ciFkaBU0zV"}],"key":"ECW4DeBrr3"},{"type":"text","value":" of the manifold. In Eigen-fashion, we also support manifolds whose dimensionality is only defined at runtime, by specifying the value -1.","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"l8ZmpZwaM5"}],"key":"f3p2OkaV2A"}],"key":"gyHDSfPRWu"}],"key":"lV9REQctcq"},{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"types:","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"QJ459yBbrK"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":31,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"inlineCode","value":"TangentVector","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"QaECvli8Fy"},{"type":"text","value":", type that lives in tangent space. This will almost always be an ","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"TCtggP0b7m"},{"type":"inlineCode","value":"Eigen::Matrix<double,n,1>","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"BWu4zjT5n4"},{"type":"text","value":".","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"QiAijU8BoT"}],"key":"GTOgLfIuNT"},{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"inlineCode","value":"ChartJacobian","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"pYiF5n7fOw"},{"type":"text","value":", a typedef for ","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"hCh3h6Ot89"},{"type":"inlineCode","value":"OptionalJacobian<dimension, dimension>","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"fBiFbPtNk6"},{"type":"text","value":".","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"sukMslAOWn"}],"key":"KqEFpwjFwc"},{"type":"listItem","spread":true,"position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"inlineCode","value":"ManifoldType","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"AvmcyDfhyP"},{"type":"text","value":", a pointer back to the type.","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"dTHw6RVGJf"}],"key":"qqkTeUSGvB"},{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"inlineCode","value":"structure_category","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"P6QY7dp6FO"},{"type":"text","value":", a tag type that defines what requirements the type fulfills, and therefore what requirements this traits class must fulfill. It should be defined to be one of the following:","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"GKErMtIWRm"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":35,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"inlineCode","value":"gtsam::traits::manifold_tag","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"MnQ8O136Q0"},{"type":"text","value":" -- Everything in this list is expected","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"hY2nJB4gEl"}],"key":"cvx1rryTtP"},{"type":"listItem","spread":true,"position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"inlineCode","value":"gtsam::traits::group_tag","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"rL6IoZlHCO"},{"type":"text","value":" -- The functions defined under ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"g3RYdARKQp"},{"type":"strong","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"Groups","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"MThLDiChSF"}],"key":"ZdlKYeraom"},{"type":"text","value":" below.","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"bLJ8PBmjry"}],"key":"GakBiGJU4o"},{"type":"listItem","spread":true,"position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"inlineCode","value":"gtsam::traits::lie_group_tag","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"w8mokdoKhj"},{"type":"text","value":" -- Everything in this list is expected, plus the functions defined under ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"HnRCGR6lXi"},{"type":"strong","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"Groups","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"ajG5yd7VmF"}],"key":"ZjctLYY8O0"},{"type":"text","value":", and ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"aRfk9l7ceS"},{"type":"strong","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"Lie Groups","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"MTmyYVmCum"}],"key":"n7N0aavC32"},{"type":"text","value":" below.","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"f0RUB3OQfn"}],"key":"YJwd1DCaVu"},{"type":"listItem","spread":true,"position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"inlineCode","value":"gtsam::traits::vector_space_tag","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"OhHHb9ucIs"},{"type":"text","value":" -- Everything in this list is expected, plus the functions defined under ","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"TDULUtdpHZ"},{"type":"strong","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"Groups","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"rXOZk9ZjNL"}],"key":"aVqdgWvFG8"},{"type":"text","value":", and ","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"VQddSRvUlV"},{"type":"strong","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"Lie Groups","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"LRxGBVgKtE"}],"key":"s6J8dXrVer"},{"type":"text","value":" below.","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"X1MLd0XeDh"}],"key":"JA42V3WmNY"}],"key":"l6K08EDe7i"}],"key":"WiAHynWvDC"}],"key":"FrfxXGOb3Z"}],"key":"tA7ebRfcNu"},{"type":"listItem","spread":true,"position":{"start":{"line":39,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"valid expressions:","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"qtNRfiZ5SN"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":40,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"inlineCode","value":"size_t dim = traits<T>::GetDimension(p);","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"RKOknjPnNa"},{"type":"text","value":" static function should be defined. This is mostly useful if the size is not known at compile time.","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"a8sbEaTNTN"}],"key":"gFPqWz2AOy"},{"type":"listItem","spread":true,"position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"inlineCode","value":"v = traits<T>::Local(p,q)","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"Qkfl2rmuNI"},{"type":"text","value":", the chart, from manifold to tangent space, think of it as ","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"m5TmR6JmeQ"},{"type":"emphasis","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"q (-) p","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"MpSFro5xQp"}],"key":"hp192avS4a"},{"type":"text","value":", where ","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"FiT1r7Dhxl"},{"type":"emphasis","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"gGm8rYgIwU"}],"key":"g0A3ADuQGP"},{"type":"text","value":" and ","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"Q31OcLBuC8"},{"type":"emphasis","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"q","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"CkzPVREV2i"}],"key":"HCKkANEtdY"},{"type":"text","value":" are elements of the manifold and the result, ","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"MIN4Lbj1so"},{"type":"emphasis","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"v","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"eUyPrl9ma2"}],"key":"QtaaFrqE9z"},{"type":"text","value":" is an element of the vector space.","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"YtW093JCba"}],"key":"HCW99sY7ep"},{"type":"listItem","spread":true,"position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"inlineCode","value":"p = traits<T>::Retract(p,v)","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"p1oF3tNFHa"},{"type":"text","value":", the inverse chart, from tangent space to manifold, think of it as ","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"BYMnNcaGDc"},{"type":"emphasis","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"p (+) v","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"AEhmsqrASM"}],"key":"YCQpw2C1lB"},{"type":"text","value":", where ","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"D9a0B5kfOs"},{"type":"emphasis","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"u4B5IsTZgg"}],"key":"JCOm97vN24"},{"type":"text","value":" is an element of the manifold and the result, ","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"RJV9gDqsvE"},{"type":"emphasis","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"v","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"FLSHLLAM7E"}],"key":"tqgUKi52ud"},{"type":"text","value":" is an element of the vector space.","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"Ztun5HGJ8w"}],"key":"Z8n4GV0KRB"}],"key":"FXR5OwdSnc"}],"key":"RbEL5Bg3qE"},{"type":"listItem","spread":true,"position":{"start":{"line":43,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"invariants","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"hDi2ZnyeJG"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":44,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"inlineCode","value":"Retract(p, Local(p,q)) == q","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"R9dMT4rCTu"}],"key":"efPga0rsKR"},{"type":"listItem","spread":true,"position":{"start":{"line":45,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"inlineCode","value":"Local(p, Retract(p, v)) == v","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"ILTQjdJ6UN"}],"key":"uRVIEfPJHk"}],"key":"QejaOtFFHQ"}],"key":"WT1nfkgZI5"}],"key":"Z62mMKiqQq"},{"type":"heading","depth":3,"position":{"start":{"line":47,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"text","value":"Group","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"TBYLeCEets"}],"identifier":"group","label":"Group","html_id":"group","implicit":true,"key":"wI6V3eCunE"},{"type":"paragraph","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"text","value":"A ","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"lDL0cpKnjl"},{"type":"link","url":"%22http://en.wikipedia.org/wiki/Group_(mathematics)%22%22","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"text","value":"group","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"mcZKCSbPJZ"}],"urlSource":"%22http://en.wikipedia.org/wiki/Group_(mathematics)%22%22","key":"qXimnfsELt"},{"type":"text","value":" should be well known from grade school :-), and provides a type with a composition operation that is closed, associative, has an identity element, and an inverse for each element. The following should be added to the traits class for a group:","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"AhlBQDFJw1"}],"key":"cwUihaGuhi"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":51,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":51,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"valid expressions:","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"kKLiUgeYxU"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":52,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"inlineCode","value":"r = traits<T>::Compose(p,q)","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"yhrYCfZssJ"},{"type":"text","value":", where ","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"JjyOhq9dfD"},{"type":"emphasis","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"TK74dZ2Tbz"}],"key":"EVMFOP5p56"},{"type":"text","value":", ","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"e4pT0ZBuAm"},{"type":"emphasis","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"text","value":"q","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"q0UAgIv11I"}],"key":"Ft7QYHFhQL"},{"type":"text","value":", and ","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"p5rRH4NAGx"},{"type":"emphasis","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"text","value":"r","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"UTGgXaAjDF"}],"key":"CN2rLoGg8E"},{"type":"text","value":" are elements of the manifold.","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"gJgtmo2QMv"}],"key":"Ad13TYMlnX"},{"type":"listItem","spread":true,"position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"inlineCode","value":"q = traits<T>::Inverse(p)","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"bkz7beBseq"},{"type":"text","value":", where ","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"BpaxpJXjbK"},{"type":"emphasis","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"OV5WbOctcI"}],"key":"wWrrdPPKTK"},{"type":"text","value":" and ","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"PoZ3VlrjYH"},{"type":"emphasis","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"text","value":"q","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"mjx57OG6vj"}],"key":"forBLcgMXe"},{"type":"text","value":" are elements of the manifold.","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"o1q2TU73xZ"}],"key":"RtSeJKd4lB"},{"type":"listItem","spread":true,"position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"inlineCode","value":"r = traits<T>::Between(p,q)","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"XugMw4oMCJ"},{"type":"text","value":", where ","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"DQznOYxtvE"},{"type":"emphasis","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"Q7nGZhBAuh"}],"key":"MTUUxQ5jU8"},{"type":"text","value":", ","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"LpDyxw0bSf"},{"type":"emphasis","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"q","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"YGHvdOT1cF"}],"key":"EGOmFp8dQn"},{"type":"text","value":", and ","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"cfySPbRD6y"},{"type":"emphasis","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"r","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"OaTuHDw3yw"}],"key":"vJMNOcDz1C"},{"type":"text","value":" are elements of the manifold.","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"o4ReuiIU8B"}],"key":"PmeMiDH4mx"}],"key":"bw6NlsjDP1"}],"key":"hyvrmyuOHd"},{"type":"listItem","spread":true,"position":{"start":{"line":55,"column":1},"end":{"line":56,"column":1}},"children":[{"type":"text","value":"static members:","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"zkggDM6aXi"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"children":[{"type":"inlineCode","value":"traits<T>::Identity","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"key":"hmBaHs95QS"},{"type":"text","value":", a static const member that represents the group’s identity element.","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"key":"YkDKSKza9M"}],"key":"nRjtT0aplC"}],"key":"MapqsDng7R"}],"key":"guuSZ0JDlt"},{"type":"listItem","spread":true,"position":{"start":{"line":57,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"text","value":"invariants:","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"wJ589Ocq9C"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":58,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"children":[{"type":"inlineCode","value":"Compose(p,Inverse(p)) == Identity","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"gRryDbhdzX"}],"key":"A6juenrDdU"},{"type":"listItem","spread":true,"position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"inlineCode","value":"Compose(p,Between(p,q)) == q","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"MGdzBiWGeU"}],"key":"mhM33Q8iIF"},{"type":"listItem","spread":true,"position":{"start":{"line":60,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"inlineCode","value":"Between(p,q) == Compose(Inverse(p),q)","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"er8cLgtOwp"}],"key":"ZPHHXB0Ok4"}],"key":"iI95eX2ANF"}],"key":"DwZU67850B"}],"key":"BK2Vl0w5Tm"},{"type":"paragraph","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"Qmb65KoIFG"},{"type":"inlineCode","value":"gtsam::group::traits","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"C15mt6Fvxu"},{"type":"text","value":" namespace defines the following:","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"xvPNynjPcN"}],"key":"mZeLmGz6Ps"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":63,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":63,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"text","value":"values:","position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"key":"WAaesdeIwN"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":64,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"children":[{"type":"inlineCode","value":"traits<T>::Identity","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"key":"bmnNL0u5OS"},{"type":"text","value":" -- The identity element for this group stored as a static const.","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"key":"A0oxq32Bnn"}],"key":"D52xlwpnNd"},{"type":"listItem","spread":true,"position":{"start":{"line":65,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"inlineCode","value":"traits<T>::group_flavor","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"NigEwfBXEg"},{"type":"text","value":" -- the flavor of this group’s ","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"fsRWOBpieP"},{"type":"inlineCode","value":"compose()","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"MTYpiQtWeD"},{"type":"text","value":" operator, either:","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"WvLH9W1cyK"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":66,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"children":[{"type":"inlineCode","value":"gtsam::traits::group_multiplicative_tag","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"Hj5Poxq036"},{"type":"text","value":" for multiplicative operator syntax, or","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"MnnDhhsWmD"}],"key":"kgq1Tu24MJ"},{"type":"listItem","spread":true,"position":{"start":{"line":67,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"inlineCode","value":"gtsam::traits::group_additive_tag","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"SwILvPhjyZ"},{"type":"text","value":" for additive operator syntax.","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"FZil1mLrcS"}],"key":"NmyGyS32jc"}],"key":"WhdogfM9P0"}],"key":"Y6ZbYSGVLc"}],"key":"psqv0CfjTt"}],"key":"SyQi2MxprJ"}],"key":"FYFWXiIE68"},{"type":"paragraph","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"children":[{"type":"text","value":"We do ","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"Shf3ZFepIM"},{"type":"emphasis","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"children":[{"type":"text","value":"not","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"A7jLtDow0K"}],"key":"uGQffhvLNo"},{"type":"text","value":" at this time support more than one composition operator per type. Although mathematically possible, it is hardly ever needed, and the machinery to support it would be burdensome and counter-intuitive.","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"koQROKPtIk"}],"key":"bnfJADld3z"},{"type":"paragraph","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"text","value":"Also, a type should provide either multiplication or addition operators depending on the flavor of the operation. To distinguish between the two, we will use a tag (see below).","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"vkZDttz3Yq"}],"key":"pYVUe7VcT2"},{"type":"heading","depth":3,"position":{"start":{"line":73,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"text","value":"Lie Group","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"key":"Rt6laM1OiK"}],"identifier":"lie-group","label":"Lie Group","html_id":"lie-group","implicit":true,"key":"VQtt5rYueg"},{"type":"paragraph","position":{"start":{"line":76,"column":1},"end":{"line":78,"column":1}},"children":[{"type":"text","value":"A Lie group is both a manifold ","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"B3rAxikRo0"},{"type":"emphasis","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"children":[{"type":"text","value":"and","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"t6aZfY75XA"}],"key":"ocqkQlEv8P"},{"type":"text","value":" a group. Hence, a LIE_GROUP type should implements both MANIFOLD and GROUP concepts.\nHowever, we now also need to be able to evaluate the derivatives of compose and inverse.\nHence, we have the following extra valid static functions defined in the struct ","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"IjntTY78vJ"},{"type":"inlineCode","value":"gtsam::traits<T>","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"M3SvvWSa3y"},{"type":"text","value":":","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"cUsHUTJunj"}],"key":"gmYXgQWO4r"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":80,"column":1},"end":{"line":83,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"children":[{"type":"inlineCode","value":"r = traits<T>::Compose(p,q,Hq,Hp)","position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"key":"O32v4QbV7I"}],"key":"CvbJrC8eSE"},{"type":"listItem","spread":true,"position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"children":[{"type":"inlineCode","value":"q = traits<T>::Inverse(p,Hp)","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"key":"MBnt7pCHnv"}],"key":"NN1mZP0QC9"},{"type":"listItem","spread":true,"position":{"start":{"line":82,"column":1},"end":{"line":83,"column":1}},"children":[{"type":"inlineCode","value":"r = traits<T>::Between(p,q,Hq,H2p)","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"key":"HmFUxveo5K"}],"key":"p4IFcKv0eR"}],"key":"ZPDcYidVep"},{"type":"paragraph","position":{"start":{"line":84,"column":1},"end":{"line":85,"column":1}},"children":[{"type":"text","value":"where above the ","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"UEb23cYGjS"},{"type":"emphasis","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"children":[{"type":"text","value":"H","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"d2jwhqtWWx"}],"key":"tTKXVzXgqN"},{"type":"text","value":" arguments stand for optional Jacobian arguments.\nThat makes it possible to create factors implementing priors (PriorFactor) or relations between two instances of a Lie group type (BetweenFactor).","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"i9R2OUP63r"}],"key":"zzDatDGgqr"},{"type":"paragraph","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"children":[{"type":"text","value":"In addition, a Lie group has a Lie algebra, which affords two extra valid expressions:","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"jNOe18T2Dt"}],"key":"Ys3cDl2EpL"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":89,"column":1},"end":{"line":91,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"children":[{"type":"inlineCode","value":"v = traits<T>::Logmap(p,Hp)","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"CjggD2TNLf"},{"type":"text","value":", the log map, with optional Jacobian","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"v1kQnLOLnc"}],"key":"BltNB56bVK"},{"type":"listItem","spread":true,"position":{"start":{"line":90,"column":1},"end":{"line":91,"column":1}},"children":[{"type":"inlineCode","value":"p = traits<T>::Expmap(v,Hv)","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"RgmpVCoNyb"},{"type":"text","value":", the exponential map, with optional Jacobian","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"l4aFYKkK4C"}],"key":"EbsN8h1PAd"}],"key":"s8DaO2ngWS"},{"type":"paragraph","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"text","value":"Note that in the Lie group case, the usual valid expressions for Retract and Local can be generated automatically, e.g.","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"CHCX5Mxrw7"}],"key":"PyCBgTs317"},{"type":"code","lang":"","value":"    T Retract(p,v,Hp,Hv) {\n      T q = Expmap(v,Hqv);\n      T r = Compose(p,q,Hrp,Hrq);\n      Hv = Hrq * Hqv; // chain rule\n      return r;\n    }","position":{"start":{"line":94,"column":1},"end":{"line":101,"column":1}},"key":"It1JubXesH"},{"type":"paragraph","position":{"start":{"line":103,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"text","value":"For Lie groups, the ","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"q2AZ6GqH8Q"},{"type":"inlineCode","value":"exponential map","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"UUyqYJTn9J"},{"type":"text","value":" above is the most obvious mapping: it\nassociates straight lines in the tangent space with geodesics on the manifold\n(and it’s inverse, the log map). However, there are several cases in which we deviate from this:","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"WGfkjr2rs2"}],"key":"n3iNuicFb1"},{"type":"paragraph","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"However, the exponential map is unnecessarily expensive for use in optimization. Hence, in GTSAM there is the option to provide a cheaper chart by means of the ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"bwNcoK1O8q"},{"type":"inlineCode","value":"ChartAtOrigin","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"Iw0KXptl6b"},{"type":"text","value":" struct in a class. This is done for ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"BwEGJbCD3B"},{"type":"emphasis","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"SE(2)","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"v82OhofNSg"}],"key":"OMcQE8tzFH"},{"type":"text","value":", ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"qp1MKfCIol"},{"type":"emphasis","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"SO(3)","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"tbHeWLvuzT"}],"key":"M5eAiqPQr1"},{"type":"text","value":" and ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"CAFI5OOsrC"},{"type":"emphasis","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"SE(3)","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"n9yC820QxN"}],"key":"JXqa9Ti2aL"},{"type":"text","value":" (see ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"PH75vDJHKI"},{"type":"inlineCode","value":"Pose2","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"fhlsTVSfrh"},{"type":"text","value":", ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"XEqlhxIS3m"},{"type":"inlineCode","value":"Rot3","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"mjoqfeKqXj"},{"type":"text","value":", ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"lDhfD868GS"},{"type":"inlineCode","value":"Pose3","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"ibJKfDf37k"},{"type":"text","value":")","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"Pm0wdm1nnW"}],"key":"bJMWKi3MKU"},{"type":"paragraph","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"text","value":"Most Lie groups we care about are ","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"eESIeJAffI"},{"type":"emphasis","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"text","value":"Matrix groups","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"tJQNjdrWOi"}],"key":"nJjX8UCWdo"},{"type":"text","value":", continuous sub-groups of ","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"eXGgN9Kdfc"},{"type":"emphasis","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"text","value":"GL(n)","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"SGMAy9QHLF"}],"key":"L3VdUoQB3y"},{"type":"text","value":", the group of ","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"ZDCFNntDHN"},{"type":"emphasis","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"text","value":"n x n","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"opLYUTss1Q"}],"key":"nKpblSGLUU"},{"type":"text","value":" invertible matrices. In this case, a lot of the derivatives calculations needed can be standardized, and this is done by the ","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"dM1U6BvhXe"},{"type":"inlineCode","value":"LieGroup","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"LHjdNHuRei"},{"type":"text","value":" superclass. You only need to provide an ","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"dyqZtsTTbr"},{"type":"inlineCode","value":"AdjointMap","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"JE0xHRDZDb"},{"type":"text","value":" method.","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"NkV5GALqhP"}],"key":"bxxQu3JGra"},{"type":"paragraph","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"A CRTP helper class ","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"VHUaxxvfvJ"},{"type":"inlineCode","value":"LieGroup","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"vZJz2doAxV"},{"type":"text","value":" is available that can take a class and create some of the Lie group methods automatically. The class needs:","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"c863GLRFNg"}],"key":"w5cmzSRsie"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":113,"column":1},"end":{"line":118,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"text","value":"operator* : implements group operator","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"a8tvY8vprV"}],"key":"wV7hRh1fhE"},{"type":"listItem","spread":true,"position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"children":[{"type":"text","value":"inverse: implements group inverse","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"XvLUt9BreM"}],"key":"h2G2C2cD7D"},{"type":"listItem","spread":true,"position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"text","value":"AdjointMap: maps tangent vectors according to group element","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"key":"eS9WbrzrEG"}],"key":"k7Ko7iFUWI"},{"type":"listItem","spread":true,"position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"children":[{"type":"text","value":"Expmap/Logmap: exponential map and its inverse","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"wdAfvPoqu2"}],"key":"zQg5Skb3Hj"},{"type":"listItem","spread":true,"position":{"start":{"line":117,"column":1},"end":{"line":118,"column":1}},"children":[{"type":"text","value":"ChartAtOrigin: struct where you define Retract/Local at origin","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"g6FI6BCkw1"}],"key":"cj51iKMFJM"}],"key":"RLZpbGdYhk"},{"type":"paragraph","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"text","value":"To use, simply derive, but also say ","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"aLNXLCqvul"},{"type":"inlineCode","value":"using LieGroup<Class,N>::inverse","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"cFWVZ65rU7"},{"type":"text","value":" so you get an inverse with a derivative.","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"RkbwG6bq4D"}],"key":"U9eqSxuZZc"},{"type":"paragraph","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"children":[{"type":"text","value":"Finally, to create the traits automatically you can use ","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"cU20dgx40K"},{"type":"inlineCode","value":"internal::LieGroupTraits<Class>","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"iLrRJTGnkW"}],"key":"QdZI20Knay"},{"type":"heading","depth":3,"position":{"start":{"line":123,"column":1},"end":{"line":124,"column":1}},"children":[{"type":"text","value":"Vector Space","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"zaqtoWOyRr"}],"identifier":"vector-space","label":"Vector Space","html_id":"vector-space","implicit":true,"key":"QW9qo9dgDH"},{"type":"paragraph","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"children":[{"type":"text","value":"While vector spaces are in principle also manifolds, it is overkill to think about charts etc. Really, we should simply think about vector addition and subtraction. I.e. where","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"XivpUs477L"}],"key":"GUwfaoIWvM"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":128,"column":1},"end":{"line":134,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"inlineCode","value":"Identity == 0","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"TjtDytulnA"}],"key":"lnd1gVj5Px"},{"type":"listItem","spread":true,"position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"inlineCode","value":"Inverse(p) == -p","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"QYWDy5elrP"}],"key":"woJgLhSU7l"},{"type":"listItem","spread":true,"position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"children":[{"type":"inlineCode","value":"Compose(p,q) == p+q","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"OfPCBOAQsW"}],"key":"oqsMKZ0AYg"},{"type":"listItem","spread":true,"position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"children":[{"type":"inlineCode","value":"Between(p,q) == q-p","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"TmHuC5utGu"}],"key":"AiichAkPVf"},{"type":"listItem","spread":true,"position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"children":[{"type":"inlineCode","value":"Local(q) == p-q","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"a0ckutkUEK"}],"key":"kNOFGSrnWD"},{"type":"listItem","spread":true,"position":{"start":{"line":133,"column":1},"end":{"line":134,"column":1}},"children":[{"type":"inlineCode","value":"Retract(v) == p+v","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"ZI7HUdT5Gm"}],"key":"h4Fh98QFTe"}],"key":"AYW2NvWY73"},{"type":"paragraph","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"children":[{"type":"text","value":"This considerably simplifies certain operations. A ","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"Y0ALMZANeg"},{"type":"inlineCode","value":"VectorSpace","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"r8h1QlZK7T"},{"type":"text","value":" superclass is available to implement the traits. Types that are vector space models include ","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"WnWUsp8gXK"},{"type":"inlineCode","value":"Matrix","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"FEVDHw1KLU"},{"type":"text","value":", ","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"OcZwpnTa8x"},{"type":"inlineCode","value":"Vector","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"xsWTqQxFby"},{"type":"text","value":", any fixed or dynamic Eigen Matrix, ","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"aBnWljlEcZ"},{"type":"inlineCode","value":"Point2","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"sYwRyfoUcg"},{"type":"text","value":", and ","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"TTScttiTNh"},{"type":"inlineCode","value":"Point3","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"ShrSAqW3Ij"},{"type":"text","value":".","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"y1ztqXuIto"}],"key":"uIVYn2HX1E"},{"type":"heading","depth":3,"position":{"start":{"line":137,"column":1},"end":{"line":138,"column":1}},"children":[{"type":"text","value":"Testable","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"da2F60ol5y"}],"identifier":"testable","label":"Testable","html_id":"testable","implicit":true,"key":"igVenVVpLs"},{"type":"paragraph","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"children":[{"type":"text","value":"Unit tests heavily depend on the following two functions being defined for all types that need to be tested:","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"key":"quZRKjuPGM"}],"key":"aVvcX390Jg"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":141,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":141,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"text","value":"valid expressions:","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"IpB5XQn8r1"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":142,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"children":[{"type":"inlineCode","value":"Print(p,s)","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"key":"TpL0lvC4H1"},{"type":"text","value":" where s is an optional string","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"key":"XnPLHMxaEC"}],"key":"InW11iDJm8"},{"type":"listItem","spread":true,"position":{"start":{"line":143,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"inlineCode","value":"Equals(p,q,tol)","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"Dphc5QEiXx"},{"type":"text","value":" where tol is an optional (double) tolerance","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"qmIz6j6qy0"}],"key":"uac2Lljuws"}],"key":"JvorcejMOZ"}],"key":"mZewnKxlOd"}],"key":"ieRs0Qyrmq"},{"type":"heading","depth":2,"position":{"start":{"line":145,"column":1},"end":{"line":146,"column":1}},"children":[{"type":"text","value":"Implementation","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"Y0Rhmi4DOF"}],"identifier":"implementation","label":"Implementation","html_id":"implementation","implicit":true,"key":"YMj2o6hCmZ"},{"type":"paragraph","position":{"start":{"line":148,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"text","value":"GTSAM Types start with Uppercase, e.g., ","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"gcCqCiG4F0"},{"type":"inlineCode","value":"gtsam::Point2","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"GaNR4svCsb"},{"type":"text","value":", and are models of the\nTESTABLE, MANIFOLD, GROUP, LIE_GROUP, and VECTOR_SPACE concepts.","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"joLHOf2EGA"}],"key":"WGowTHGmCn"},{"type":"paragraph","position":{"start":{"line":151,"column":1},"end":{"line":153,"column":1}},"children":[{"type":"inlineCode","value":"gtsam::traits","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"OF3exzsw7W"},{"type":"text","value":" is our way to associate these concepts with types,\nand we also define a limited number of ","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"wF361qBHGG"},{"type":"inlineCode","value":"gtsam::tags","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"XC1FyJndBL"},{"type":"text","value":" to select the correct implementation\nof certain functions at compile time (tag dispatching).","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"AnOrHkeF0t"}],"key":"TJok9qJhRx"},{"type":"heading","depth":3,"position":{"start":{"line":155,"column":1},"end":{"line":156,"column":1}},"children":[{"type":"text","value":"Traits","position":{"start":{"line":155,"column":1},"end":{"line":155,"column":1}},"key":"zXSlMhVLUk"}],"identifier":"traits","label":"Traits","html_id":"traits","implicit":true,"key":"wMSMYb3Mfj"},{"type":"paragraph","position":{"start":{"line":158,"column":1},"end":{"line":160,"column":1}},"children":[{"type":"text","value":"However, a base class is not a good way to implement/check the other concepts, as we would like these\nto apply equally well to types that are outside GTSAM control, e.g., ","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"hwXwx7Fu7m"},{"type":"inlineCode","value":"Eigen::VectorXd","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"iZx9pSBKOx"},{"type":"text","value":". This is where\n","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"nFlC4gOqsR"},{"type":"link","url":"http://www.boost.org/doc/libs/1_57_0/libs/type_traits/doc/html/boost_typetraits/background.html","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"children":[{"type":"text","value":"traits","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"FnMekvjkdG"}],"urlSource":"http://www.boost.org/doc/libs/1_57_0/libs/type_traits/doc/html/boost_typetraits/background.html","key":"Cx5R6n7Uhw"},{"type":"text","value":" come in.","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"c4olaQCKgI"}],"key":"q1Xvml7dTK"},{"type":"paragraph","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"text","value":"We use Eigen-style or STL-style traits, that define ","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"QxEbBEgi0b"},{"type":"emphasis","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"text","value":"many","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"bb1Tl6SbUT"}],"key":"JR90HG5C0a"},{"type":"text","value":" properties at once.","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"DspponqnSq"}],"key":"mxNcnOrMc6"},{"type":"paragraph","position":{"start":{"line":164,"column":1},"end":{"line":167,"column":1}},"children":[{"type":"text","value":"Note that not everything that makes a concept is defined by traits. Valid expressions such as ","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"VMqdfwArwT"},{"type":"inlineCode","value":"traits<T>::Compose","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"Vgztlgh8G0"},{"type":"text","value":" are\ndefined simply as static functions within the traits class.\nFinally, for GTSAM types, it is perfectly acceptable (and even desired) to define associated types as internal types,\nrather than having to use traits internally.","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"nPl4WeLcZa"}],"key":"m62IRu1mXL"},{"type":"heading","depth":3,"position":{"start":{"line":169,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"Concept Checks","position":{"start":{"line":169,"column":1},"end":{"line":169,"column":1}},"key":"x8eNSjcC4s"}],"identifier":"concept-checks","label":"Concept Checks","html_id":"concept-checks","implicit":true,"key":"XUuBd5Kage"},{"type":"paragraph","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"Boost provides a nice way to check whether a given type satisfies a concept. For example, the following","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"qMwalTjzuc"}],"key":"xQENouI0M7"},{"type":"code","lang":"","value":"BOOST_CONCEPT_ASSERT(IsVectorSpace<Point2>)","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"fJDZBAQKhG"},{"type":"paragraph","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"children":[{"type":"text","value":"asserts that Point2 indeed is a model for the VectorSpace concept.","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"A6g3yja7BD"}],"key":"j2IjRUUuRG"},{"type":"heading","depth":2,"position":{"start":{"line":178,"column":1},"end":{"line":179,"column":1}},"children":[{"type":"text","value":"Future Concepts","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"key":"BB8vDoiEGE"}],"identifier":"future-concepts","label":"Future Concepts","html_id":"future-concepts","implicit":true,"key":"KyoqyAJoPA"},{"type":"heading","depth":3,"position":{"start":{"line":182,"column":1},"end":{"line":183,"column":1}},"children":[{"type":"text","value":"Group Action","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"A2x2vYBm6X"}],"identifier":"group-action","label":"Group Action","html_id":"group-action","implicit":true,"key":"j5BQ3mL4DK"},{"type":"paragraph","position":{"start":{"line":185,"column":1},"end":{"line":187,"column":1}},"children":[{"type":"text","value":"Group actions are concepts in and of themselves that can be concept checked (see below).\nIn particular, a group can ","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"foMFdgPUzF"},{"type":"emphasis","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"children":[{"type":"text","value":"act","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"RhHLtz2Vqk"}],"key":"MYWhzTUc36"},{"type":"text","value":" on another space.\nFor example, the ","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"s5OPDSACO5"},{"type":"link","url":"https://en.wikipedia.org/wiki/Cyclic_group","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"children":[{"type":"text","value":"cyclic group of order 6","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"Es8nbcGIzt"}],"urlSource":"http://en.wikipedia.org/wiki/Cyclic_group","data":{"page":"Cyclic_group","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"bsnIO7J0Xp"},{"type":"text","value":" can rotate 2D vectors around the origin:","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"Jcpdz2Kt7p"}],"key":"BqqnuMN70c"},{"type":"code","lang":"","value":"q = R(i)*p\nwhere R(i) = R(60)^i, where R(60) rotates by 60 degrees","position":{"start":{"line":189,"column":1},"end":{"line":190,"column":1}},"key":"npfLaFpa5w"},{"type":"paragraph","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"children":[{"type":"text","value":"Hence, we formalize by the following extension of the concept:","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"key":"VwZ0cv8f2K"}],"key":"xl0RB4yiQ9"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":194,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":194,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"text","value":"valid expressions:","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"dgkt0XcfXl"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":195,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"inlineCode","value":"q = traits<T>::Act(g,p)","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"glv7xAJvHs"},{"type":"text","value":", for some instance, ","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"LmqdMlqa19"},{"type":"emphasis","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"rCcIkOCgxb"}],"key":"GnJSCq87IU"},{"type":"text","value":",  of a space ","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"s5JOWoiWYQ"},{"type":"emphasis","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"text","value":"S","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"RAtpqu0upW"}],"key":"l0VTw6hofv"},{"type":"text","value":", that can be acted upon by the group element ","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"Bi64CIpOyk"},{"type":"emphasis","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"text","value":"g","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"JiDUFwOKWb"}],"key":"qeZ3CSGlXN"},{"type":"text","value":" to produce ","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"GD69TRI4ID"},{"type":"emphasis","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"text","value":"q","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"i1sCX5HFNI"}],"key":"Kdk4QfKPEQ"},{"type":"text","value":" in ","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"FpAeCAVZ8J"},{"type":"emphasis","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"text","value":"S","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"E0DwH738p4"}],"key":"LsZ1xGm6a0"},{"type":"text","value":".","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"hj22thRJ2T"}],"key":"jfnWgcVvTx"},{"type":"listItem","spread":true,"position":{"start":{"line":196,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"inlineCode","value":"q = traits<T>::Act(g,p,Hp)","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"key":"d15pANXHtV"},{"type":"text","value":", if the space acted upon is a continuous differentiable manifold.","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"key":"lBU6YbbNe1"}],"key":"AkTTatXR4d"}],"key":"JHLLI6q28q"}],"key":"F4llL2h2LO"}],"key":"O7nswh2FpF"},{"type":"paragraph","position":{"start":{"line":198,"column":1},"end":{"line":201,"column":1}},"children":[{"type":"text","value":"In the latter case, if ","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"zKZmMpWU7m"},{"type":"emphasis","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"S","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"H0LtFrmrWj"}],"key":"vK8uVQWahi"},{"type":"text","value":" is an n-dimensional manifold, ","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"ToOccB0y8N"},{"type":"emphasis","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"Hp","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"pcFFnI6sd7"}],"key":"XbA517Fckm"},{"type":"text","value":" is an output argument that should be\nfilled with the ","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"QOBVsjp7nF"},{"type":"emphasis","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"nxn","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"Ut5ccvDuXu"}],"key":"jopTm7WXyH"},{"type":"text","value":" Jacobian matrix of the action with respect to a change in ","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"ZknUjz7XzN"},{"type":"emphasis","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"RSv714s7e2"}],"key":"LBWzGBtKJ6"},{"type":"text","value":". It typically depends\non the group element ","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"aLCxdN9FZI"},{"type":"emphasis","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"g","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"XEN8kJcUS9"}],"key":"A8HCo91OkU"},{"type":"text","value":", but in most common examples will ","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"aVz7PDm4Dg"},{"type":"emphasis","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"not","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"uRjPxVdONE"}],"key":"P96EuULB8b"},{"type":"text","value":" depend on the value of ","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"L0UeMCFgVL"},{"type":"emphasis","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"tL5QEy2RCJ"}],"key":"xA0UaVEwWn"},{"type":"text","value":". For example, in\nthe cyclic group example above, we simply have","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"F0fQ9PC1jn"}],"key":"yMXPTOshcW"},{"type":"code","lang":"","value":"Hp = R(i)","position":{"start":{"line":203,"column":1},"end":{"line":203,"column":1}},"key":"OQIUgJEzUn"},{"type":"paragraph","position":{"start":{"line":205,"column":1},"end":{"line":206,"column":1}},"children":[{"type":"text","value":"Note there is no derivative of the action with respect to a change in g. That will only be defined\nfor Lie groups, which we introduce now.","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"key":"wOyrC55UOj"}],"key":"vV8OenOJYY"},{"type":"heading","depth":3,"position":{"start":{"line":209,"column":1},"end":{"line":210,"column":1}},"children":[{"type":"text","value":"Lie Group Action","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"key":"fc0rk2uHRr"}],"identifier":"lie-group-action","label":"Lie Group Action","html_id":"lie-group-action","implicit":true,"key":"xWRzZxCIXO"},{"type":"paragraph","position":{"start":{"line":212,"column":1},"end":{"line":212,"column":1}},"children":[{"type":"text","value":"When a Lie group acts on a space, we have two derivatives to care about:","position":{"start":{"line":212,"column":1},"end":{"line":212,"column":1}},"key":"ShPnAe74w8"}],"key":"X9lXkSAJ1X"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":214,"column":1},"end":{"line":215,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":214,"column":1},"end":{"line":215,"column":1}},"children":[{"type":"inlineCode","value":"gtasm::manifold::traits<T>::act(g,p,Hg,Hp)","position":{"start":{"line":214,"column":1},"end":{"line":214,"column":1}},"key":"nLo9Hs4o7l"},{"type":"text","value":", if the space acted upon is a continuous differentiable manifold.","position":{"start":{"line":214,"column":1},"end":{"line":214,"column":1}},"key":"iBKY5KC7aB"}],"key":"jQ8ycsaRN8"}],"key":"VtuC7cOFLl"},{"type":"paragraph","position":{"start":{"line":216,"column":1},"end":{"line":216,"column":1}},"children":[{"type":"text","value":"An example is a ","position":{"start":{"line":216,"column":1},"end":{"line":216,"column":1}},"key":"J0Tny1iQda"},{"type":"emphasis","position":{"start":{"line":216,"column":1},"end":{"line":216,"column":1}},"children":[{"type":"text","value":"similarity transform","position":{"start":{"line":216,"column":1},"end":{"line":216,"column":1}},"key":"D7yPxYW31S"}],"key":"kWZuAIScrr"},{"type":"text","value":" in 3D, which can act on 3D space, like","position":{"start":{"line":216,"column":1},"end":{"line":216,"column":1}},"key":"LEQz5sO2RI"}],"key":"VMfZQ1gSXu"},{"type":"code","lang":"","value":"q = s*R*p + t","position":{"start":{"line":218,"column":1},"end":{"line":218,"column":1}},"key":"jsP46hJq18"},{"type":"paragraph","position":{"start":{"line":220,"column":1},"end":{"line":221,"column":1}},"children":[{"type":"text","value":"Note that again the derivative in ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"DU9h8Z01J2"},{"type":"emphasis","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"ZA8sAfpoCH"}],"key":"Q3d3Bm6jjh"},{"type":"text","value":", ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"jDd2jRE2J1"},{"type":"emphasis","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"Hp","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"a3bSHbuWZ0"}],"key":"vR9Hq7jt7S"},{"type":"text","value":" is simply ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"fFcL4FDCff"},{"type":"emphasis","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"s R","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"ImeAWGuHNA"}],"key":"rVPxdhOph1"},{"type":"text","value":", which depends on ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"paszrVlbyO"},{"type":"emphasis","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"g","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"eyOzmjxgsg"}],"key":"IJD7k9xMWb"},{"type":"text","value":" but not on ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"IHCgLRnuuc"},{"type":"emphasis","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"TDbRWXaDGR"}],"key":"LoWic6SAuX"},{"type":"text","value":".\nThe derivative in ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"DUmrXg5GUe"},{"type":"emphasis","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"g","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"D7hotxu5Fo"}],"key":"r3yUfrIQlX"},{"type":"text","value":", ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"asXZkB4YE3"},{"type":"emphasis","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"Hg","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"ZXZxkKz5H2"}],"key":"Qs2U2HsaAq"},{"type":"text","value":", is in general more complex.","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"FxggvfOLoK"}],"key":"F6qHkYfBr8"},{"type":"paragraph","position":{"start":{"line":223,"column":1},"end":{"line":223,"column":1}},"children":[{"type":"text","value":"For now, we won’t care about Lie groups acting on non-manifolds.","position":{"start":{"line":223,"column":1},"end":{"line":223,"column":1}},"key":"mrgdFtV2Ok"}],"key":"wcxfjj5fGG"}],"key":"zFzRFoeOr0"}],"key":"lNyUUuGtCj"},"references":{"cite":{"order":[],"data":{}}}}