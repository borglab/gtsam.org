{"version":1,"kind":"Article","sha256":"11619dd6ef67c72cf80798c012422ee05febc14d195b5452749d45483f53512c","slug":"content.notes.gtsam-concepts","location":"/Content/Notes/GTSAM-Concepts.md","dependencies":[],"frontmatter":{"title":"GTSAM Concepts","date":"2019-05-18","github":"https://github.com/borglab/gtsam","numbering":{"title":{"offset":1}},"edit_url":"https://github.com/borglab/gtsam/blob/docs/ktk-sdk/Content/Notes/GTSAM-Concepts.md","exports":[{"format":"md","filename":"GTSAM-Concepts.md","url":"/GTSAM-Concepts-152c09953a4a0811880269ee57ce38d5.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"As discussed in ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"O2kzdpX9ie"},{"type":"link","url":"http://www.boost.org/community/generic_programming.html","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Generic Programming Techniques","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"LAipnB8w1z"}],"urlSource":"http://www.boost.org/community/generic_programming.html","key":"l4Odw4l3VB"},{"type":"text","value":", concepts define","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"idJNWhTLju"}],"key":"aZbLVWUu62"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"associated types","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"C1vvsan5YB"}],"key":"jiiIjjCZ9R"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"valid expressions, like functions and values","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"PjldZGutvB"}],"key":"m96f4Cd18m"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"invariants","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"F8K2g5sYse"}],"key":"Oh6tiBX0Zf"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"complexity guarantees","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"VhldMsQAzM"}],"key":"mP7JKsfhBc"}],"key":"WAKPtMTBMn"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Below we discuss the most important concepts use in GTSAM, and after that we discuss how they are implemented/used/enforced.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"nWoyPMJio6"}],"key":"HbY1ul6rdW"},{"type":"heading","depth":3,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Manifold","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"GFL0VGZu0n"}],"identifier":"manifold","label":"Manifold","html_id":"manifold","implicit":true,"key":"DF65TswYy2"},{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"To optimize over continuous types, we assume they are manifolds. This is central to GTSAM and hence discussed in some more detail below.","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"ez3sB1jMZw"}],"key":"RlUdSU2b7l"},{"type":"paragraph","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"link","url":"https://en.wikipedia.org/wiki/Manifold#Charts.2C_atlases.2C_and_transition_maps","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Manifolds","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"r4OFxzFNm1"}],"urlSource":"http://en.wikipedia.org/wiki/Manifold#Charts.2C_atlases.2C_and_transition_maps","data":{"page":"Manifold#Charts.2C_atlases.2C_and_transition_maps","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"gUqUUSqkJK"},{"type":"text","value":" and ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"EN7BYgHbkR"},{"type":"link","url":"https://en.wikipedia.org/wiki/Manifold#Charts.2C_atlases.2C_and_transition_maps","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"charts","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"rOhA8GGMFT"}],"urlSource":"http://en.wikipedia.org/wiki/Manifold#Charts.2C_atlases.2C_and_transition_maps","data":{"page":"Manifold#Charts.2C_atlases.2C_and_transition_maps","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"jpeZGtScZs"},{"type":"text","value":" are intimately linked concepts. We are only interested here in ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"VJnm5pAfB5"},{"type":"link","url":"https://en.wikipedia.org/wiki/Differentiable_manifold#Definition","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"differentiable manifolds","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"oo0k336O94"}],"urlSource":"http://en.wikipedia.org/wiki/Differentiable_manifold#Definition","data":{"page":"Differentiable_manifold#Definition","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"SM01Tmy84g"},{"type":"text","value":", continuous spaces that can be locally approximated ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"RuYw9ZjdVu"},{"type":"emphasis","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"at any point","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"orVvPLYV0q"}],"key":"diweq1VmTB"},{"type":"text","value":" using a local vector space, called the ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"nI7JNbO3LY"},{"type":"link","url":"https://en.wikipedia.org/wiki/Tangent_space","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"tangent space","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"pUfEyaDzkw"}],"urlSource":"http://en.wikipedia.org/wiki/Tangent_space","data":{"page":"Tangent_space","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"NMVF7iASld"},{"type":"text","value":". A ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"FrJnEc0z9E"},{"type":"emphasis","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"chart","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"IQF9N7yxOY"}],"key":"FO9rC2UsMv"},{"type":"text","value":" is an invertible map from the manifold to that tangent space.","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"HLcoWYXH4m"}],"key":"ieAfzpLt5R"},{"type":"paragraph","position":{"start":{"line":25,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"In GTSAM, all properties and operations needed to use a type must be defined through template specialization of the struct ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"fdmOajmZ7I"},{"type":"inlineCode","value":"gtsam::traits","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"Y2qkuYAnIX"},{"type":"text","value":". Concept checks are used to check that all required functions are implemented.\nIn detail, we ask that the following items are defined in the traits object (although, not all are needed for optimization):","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"vMYqM3THPv"}],"key":"Jp7sqWVu6Z"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":28,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":28,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"values:","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"Qxb1IhgB02"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"inlineCode","value":"enum { dimension = D};","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"bjWP4aym7J"},{"type":"text","value":", an enum that indicates the dimensionality ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"apukRknX6S"},{"type":"emphasis","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"n","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"dhLkaFata3"}],"key":"BmtiHruBCs"},{"type":"text","value":" of the manifold. In Eigen-fashion, we also support manifolds whose dimensionality is only defined at runtime, by specifying the value -1.","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"QcoERWZPM0"}],"key":"F3Q3l3f6ra"}],"key":"gQG49mHHdr"}],"key":"Kkf1ZqSAL2"},{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"types:","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"G708ouet7o"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":31,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"inlineCode","value":"TangentVector","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"iz49vg1h0P"},{"type":"text","value":", type that lives in tangent space. This will almost always be an ","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"b0rIYjsj5j"},{"type":"inlineCode","value":"Eigen::Matrix<double,n,1>","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"SKzrkbqxz6"},{"type":"text","value":".","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"ZH1QDPs8AX"}],"key":"tXrqnZ5Mye"},{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"inlineCode","value":"ChartJacobian","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"vx1w8FZUJt"},{"type":"text","value":", a typedef for ","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"NM3YsiIi0F"},{"type":"inlineCode","value":"OptionalJacobian<dimension, dimension>","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"SU38B0XlJn"},{"type":"text","value":".","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"U3HT17jAZI"}],"key":"eDcAMwmDMO"},{"type":"listItem","spread":true,"position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"inlineCode","value":"ManifoldType","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"ZNiGfqkeYX"},{"type":"text","value":", a pointer back to the type.","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"UPLWrpzTG6"}],"key":"Fm1oQE8Q45"},{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"inlineCode","value":"structure_category","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"UTBAG324eU"},{"type":"text","value":", a tag type that defines what requirements the type fulfills, and therefore what requirements this traits class must fulfill. It should be defined to be one of the following:","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"gCe5nFsDwI"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":35,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"inlineCode","value":"gtsam::traits::manifold_tag","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"Was9jkOC2s"},{"type":"text","value":" -- Everything in this list is expected","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"HiqKMYfFSX"}],"key":"IvRzZJ8sta"},{"type":"listItem","spread":true,"position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"inlineCode","value":"gtsam::traits::group_tag","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"Sk3uqZcKkY"},{"type":"text","value":" -- The functions defined under ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"OtKDxYagum"},{"type":"strong","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"Groups","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"guH8gCDKTk"}],"key":"YqXDuZ512G"},{"type":"text","value":" below.","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"ExZ404yqTj"}],"key":"X580eIVvwL"},{"type":"listItem","spread":true,"position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"inlineCode","value":"gtsam::traits::lie_group_tag","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"wb71jiXGC3"},{"type":"text","value":" -- Everything in this list is expected, plus the functions defined under ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"rYTEaS56V4"},{"type":"strong","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"Groups","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"zB2utAIsUq"}],"key":"Cqe1iK1YqH"},{"type":"text","value":", and ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"OL40hQhYuT"},{"type":"strong","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"Lie Groups","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"JIwltwiHv6"}],"key":"foZb2JCh9z"},{"type":"text","value":" below.","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"CX7huobpLz"}],"key":"KGQMvOVT1A"},{"type":"listItem","spread":true,"position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"inlineCode","value":"gtsam::traits::vector_space_tag","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"layIh0liF0"},{"type":"text","value":" -- Everything in this list is expected, plus the functions defined under ","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"koP496JbA3"},{"type":"strong","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"Groups","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"GuMaFVJTnN"}],"key":"Dq9t4vK4bc"},{"type":"text","value":", and ","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"gThLSL9y1j"},{"type":"strong","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"Lie Groups","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"G5UE7iUzVZ"}],"key":"QGcnA8ZDiF"},{"type":"text","value":" below.","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"O5qfuNRhTK"}],"key":"r4deGggb9Q"}],"key":"YDVbVymz0y"}],"key":"opA4fPy0jC"}],"key":"FiLaLK0Sbk"}],"key":"k1GWmisfxU"},{"type":"listItem","spread":true,"position":{"start":{"line":39,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"valid expressions:","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"rtnwPq4Siz"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":40,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"inlineCode","value":"size_t dim = traits<T>::GetDimension(p);","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"XSaSuk81kr"},{"type":"text","value":" static function should be defined. This is mostly useful if the size is not known at compile time.","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"sM6enOxzUm"}],"key":"MeQ9fGEBh1"},{"type":"listItem","spread":true,"position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"inlineCode","value":"v = traits<T>::Local(p,q)","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"AyVdANHuz6"},{"type":"text","value":", the chart, from manifold to tangent space, think of it as ","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"eVfMrrDDR4"},{"type":"emphasis","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"q (-) p","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"b8u8EbpPLZ"}],"key":"fCW4735pTh"},{"type":"text","value":", where ","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"BLJbpQxxzX"},{"type":"emphasis","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"Hk7Hwq9WSP"}],"key":"odawScwpZB"},{"type":"text","value":" and ","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"ctClhpl2Bm"},{"type":"emphasis","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"q","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"rF4Cj4ZJPa"}],"key":"REVXOB6KZs"},{"type":"text","value":" are elements of the manifold and the result, ","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"y8YnGETh91"},{"type":"emphasis","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"v","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"ZwCEoMxk7v"}],"key":"NaSW0E87SQ"},{"type":"text","value":" is an element of the vector space.","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"jq3VTr0RQx"}],"key":"MOkaC9ac9O"},{"type":"listItem","spread":true,"position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"inlineCode","value":"p = traits<T>::Retract(p,v)","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"g2TCtPCA7t"},{"type":"text","value":", the inverse chart, from tangent space to manifold, think of it as ","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"h4HWhLxhBC"},{"type":"emphasis","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"p (+) v","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"q0fXerkrJp"}],"key":"WzhegzhqEj"},{"type":"text","value":", where ","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"m32KmxbXvi"},{"type":"emphasis","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"g1Unefpncv"}],"key":"zA1PEJpkC4"},{"type":"text","value":" is an element of the manifold and the result, ","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"lcjmRSxFTT"},{"type":"emphasis","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"v","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"B8XLB8INaI"}],"key":"NxXRRVJGNF"},{"type":"text","value":" is an element of the vector space.","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"iBcIkxO8Mv"}],"key":"LYJIxoLkxR"}],"key":"D7gaX3kcRX"}],"key":"IBtBOcY9WB"},{"type":"listItem","spread":true,"position":{"start":{"line":43,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"invariants","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"ibQg4vIyRX"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":44,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"inlineCode","value":"Retract(p, Local(p,q)) == q","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"fm7jItGaXT"}],"key":"osjV9T7XEL"},{"type":"listItem","spread":true,"position":{"start":{"line":45,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"inlineCode","value":"Local(p, Retract(p, v)) == v","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"MOkTVAtc8h"}],"key":"jfl0y3xTLj"}],"key":"bsf406Tbwo"}],"key":"s2f02KQC2u"}],"key":"X9J1DuKSKJ"},{"type":"heading","depth":3,"position":{"start":{"line":47,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"text","value":"Group","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"qocPcO0Q9k"}],"identifier":"group","label":"Group","html_id":"group","implicit":true,"key":"yHJSiPIoHC"},{"type":"paragraph","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"text","value":"A ","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"HuRVoIdWrb"},{"type":"link","url":"%22http://en.wikipedia.org/wiki/Group_(mathematics)%22%22","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"text","value":"group","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"eJcbYY8Sp8"}],"urlSource":"%22http://en.wikipedia.org/wiki/Group_(mathematics)%22%22","key":"mpNmk5CT0y"},{"type":"text","value":" should be well known from grade school :-), and provides a type with a composition operation that is closed, associative, has an identity element, and an inverse for each element. The following should be added to the traits class for a group:","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"pXmsOlO57E"}],"key":"pz5B2UxmfM"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":51,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":51,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"valid expressions:","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"KyTkQTnf9N"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":52,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"inlineCode","value":"r = traits<T>::Compose(p,q)","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"skj5ZrgO7j"},{"type":"text","value":", where ","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"PWmT36Xh2r"},{"type":"emphasis","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"hWVu7aTL9B"}],"key":"FuajFJSu67"},{"type":"text","value":", ","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"OfheqXFEE1"},{"type":"emphasis","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"text","value":"q","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"nn2zgVrVfx"}],"key":"vRJ0cf4W8c"},{"type":"text","value":", and ","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"Tqkt8hRLbi"},{"type":"emphasis","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"text","value":"r","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"jgqrZF9LYG"}],"key":"Cj9Blunvb4"},{"type":"text","value":" are elements of the manifold.","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"PbaZ981aW6"}],"key":"r9Mv8qtglG"},{"type":"listItem","spread":true,"position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"inlineCode","value":"q = traits<T>::Inverse(p)","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"r0b0c1bAIr"},{"type":"text","value":", where ","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"wgaArwut2n"},{"type":"emphasis","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"AOsEfoWsf5"}],"key":"Uaw4KBEUuh"},{"type":"text","value":" and ","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"LxDelVEMpu"},{"type":"emphasis","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"text","value":"q","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"B6mQr4G9RF"}],"key":"Y0wQdQ0J6u"},{"type":"text","value":" are elements of the manifold.","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"F1xXxsPq6B"}],"key":"Ai4UeTCofC"},{"type":"listItem","spread":true,"position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"inlineCode","value":"r = traits<T>::Between(p,q)","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"CjsuUayA0Q"},{"type":"text","value":", where ","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"QQhAcxhdQh"},{"type":"emphasis","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"HlVIVMjbXX"}],"key":"jAxcNQuejO"},{"type":"text","value":", ","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"tjqaDdAwMr"},{"type":"emphasis","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"q","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"J87lCT2XiA"}],"key":"ymY8wAt3Fu"},{"type":"text","value":", and ","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"vNVIZRi6dg"},{"type":"emphasis","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"r","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"M22jE1R6sP"}],"key":"CPwkOoK0Cg"},{"type":"text","value":" are elements of the manifold.","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"cquJE94ZzR"}],"key":"plbgA57wfj"}],"key":"ZX0bfvM0Sq"}],"key":"bS1wdp972Z"},{"type":"listItem","spread":true,"position":{"start":{"line":55,"column":1},"end":{"line":56,"column":1}},"children":[{"type":"text","value":"static members:","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"HFTCOW7JeT"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"children":[{"type":"inlineCode","value":"traits<T>::Identity","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"key":"e10LqVy3uL"},{"type":"text","value":", a static const member that represents the group’s identity element.","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"key":"hkVplu7dz2"}],"key":"HFtI8uF5tO"}],"key":"B9nI15NXea"}],"key":"xxbSyeJ8wT"},{"type":"listItem","spread":true,"position":{"start":{"line":57,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"text","value":"invariants:","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"iJxk3wnrkF"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":58,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"children":[{"type":"inlineCode","value":"Compose(p,Inverse(p)) == Identity","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"QxbTkNFs5A"}],"key":"Mjse0uWZ8T"},{"type":"listItem","spread":true,"position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"inlineCode","value":"Compose(p,Between(p,q)) == q","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"oft6AvwRYv"}],"key":"vMBanCYrX2"},{"type":"listItem","spread":true,"position":{"start":{"line":60,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"inlineCode","value":"Between(p,q) == Compose(Inverse(p),q)","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"UGI5onrxOg"}],"key":"oGrEwwivWp"}],"key":"eidXITxia4"}],"key":"VRooC0ZW6L"}],"key":"t1GzF73tVt"},{"type":"paragraph","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"c8PWYe0ykb"},{"type":"inlineCode","value":"gtsam::group::traits","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"fxBDCLA5dY"},{"type":"text","value":" namespace defines the following:","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"ncT6ioDCwg"}],"key":"gyEGlG5pvc"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":63,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":63,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"text","value":"values:","position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"key":"KeS51mJj7I"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":64,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"children":[{"type":"inlineCode","value":"traits<T>::Identity","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"key":"bsj9R7g9fS"},{"type":"text","value":" -- The identity element for this group stored as a static const.","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"key":"wv8yvtH67L"}],"key":"WjJeMoEPn5"},{"type":"listItem","spread":true,"position":{"start":{"line":65,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"inlineCode","value":"traits<T>::group_flavor","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"AmP7e3zN1k"},{"type":"text","value":" -- the flavor of this group’s ","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"YozSFjWxZI"},{"type":"inlineCode","value":"compose()","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"J6bkgTNodN"},{"type":"text","value":" operator, either:","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"qj92b44GsF"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":66,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"children":[{"type":"inlineCode","value":"gtsam::traits::group_multiplicative_tag","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"oFcGhagydm"},{"type":"text","value":" for multiplicative operator syntax, or","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"cUsq3p3NYi"}],"key":"rOZZqFIRnF"},{"type":"listItem","spread":true,"position":{"start":{"line":67,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"inlineCode","value":"gtsam::traits::group_additive_tag","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"XizFTGYEnX"},{"type":"text","value":" for additive operator syntax.","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"Wjsc8Plgc0"}],"key":"k4RFgBY39N"}],"key":"korUfLKEd1"}],"key":"vICnybhfmt"}],"key":"cwFz35nTyS"}],"key":"WIAYIA5sTr"}],"key":"t3WNX3IfdG"},{"type":"paragraph","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"children":[{"type":"text","value":"We do ","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"eSvrGC6Z5y"},{"type":"emphasis","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"children":[{"type":"text","value":"not","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"blZYmpioaV"}],"key":"tDwdOCpcez"},{"type":"text","value":" at this time support more than one composition operator per type. Although mathematically possible, it is hardly ever needed, and the machinery to support it would be burdensome and counter-intuitive.","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"vxhZTOBxvQ"}],"key":"Lj686XEQfS"},{"type":"paragraph","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"text","value":"Also, a type should provide either multiplication or addition operators depending on the flavor of the operation. To distinguish between the two, we will use a tag (see below).","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"GTFvEE8ani"}],"key":"wBf3mndkPD"},{"type":"heading","depth":3,"position":{"start":{"line":73,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"text","value":"Lie Group","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"key":"hQ4TTUEBRc"}],"identifier":"lie-group","label":"Lie Group","html_id":"lie-group","implicit":true,"key":"IwfABB7Faw"},{"type":"paragraph","position":{"start":{"line":76,"column":1},"end":{"line":78,"column":1}},"children":[{"type":"text","value":"A Lie group is both a manifold ","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"l49TcqBSFS"},{"type":"emphasis","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"children":[{"type":"text","value":"and","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"LGlyYfXj1m"}],"key":"wqDijMSYNx"},{"type":"text","value":" a group. Hence, a LIE_GROUP type should implements both MANIFOLD and GROUP concepts.\nHowever, we now also need to be able to evaluate the derivatives of compose and inverse.\nHence, we have the following extra valid static functions defined in the struct ","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"sURR53Rii7"},{"type":"inlineCode","value":"gtsam::traits<T>","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"Q1pOnasfq6"},{"type":"text","value":":","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"i1OlKSC2Rd"}],"key":"j8c4rsWNyx"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":80,"column":1},"end":{"line":83,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"children":[{"type":"inlineCode","value":"r = traits<T>::Compose(p,q,Hq,Hp)","position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"key":"bNmyFJbp8T"}],"key":"FVibJsnScb"},{"type":"listItem","spread":true,"position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"children":[{"type":"inlineCode","value":"q = traits<T>::Inverse(p,Hp)","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"key":"QdM10kYw1k"}],"key":"SZbRoOTYpw"},{"type":"listItem","spread":true,"position":{"start":{"line":82,"column":1},"end":{"line":83,"column":1}},"children":[{"type":"inlineCode","value":"r = traits<T>::Between(p,q,Hq,H2p)","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"key":"nMrKYV0RMF"}],"key":"vzgNdcWXSC"}],"key":"mwjhYPWpja"},{"type":"paragraph","position":{"start":{"line":84,"column":1},"end":{"line":85,"column":1}},"children":[{"type":"text","value":"where above the ","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"cooVWWtV2P"},{"type":"emphasis","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"children":[{"type":"text","value":"H","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"WkyzLnV6Aa"}],"key":"vxtboYklnn"},{"type":"text","value":" arguments stand for optional Jacobian arguments.\nThat makes it possible to create factors implementing priors (PriorFactor) or relations between two instances of a Lie group type (BetweenFactor).","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"lQ2t0yejVL"}],"key":"jLNUWDsMqW"},{"type":"paragraph","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"children":[{"type":"text","value":"In addition, a Lie group has a Lie algebra, which affords two extra valid expressions:","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"FY7mfZzBZM"}],"key":"HyZ12jKITe"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":89,"column":1},"end":{"line":91,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"children":[{"type":"inlineCode","value":"v = traits<T>::Logmap(p,Hp)","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"oqZEIN9VFm"},{"type":"text","value":", the log map, with optional Jacobian","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"XTC2g7t55N"}],"key":"OSN4Z7VipC"},{"type":"listItem","spread":true,"position":{"start":{"line":90,"column":1},"end":{"line":91,"column":1}},"children":[{"type":"inlineCode","value":"p = traits<T>::Expmap(v,Hv)","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"FxQYuoBafS"},{"type":"text","value":", the exponential map, with optional Jacobian","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"TPFOsrvxRj"}],"key":"nqPUeSOQRa"}],"key":"ZIrUmgHFwp"},{"type":"paragraph","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"text","value":"Note that in the Lie group case, the usual valid expressions for Retract and Local can be generated automatically, e.g.","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"PyHL4fPsls"}],"key":"INaTZ2WX2e"},{"type":"code","lang":"","value":"    T Retract(p,v,Hp,Hv) {\n      T q = Expmap(v,Hqv);\n      T r = Compose(p,q,Hrp,Hrq);\n      Hv = Hrq * Hqv; // chain rule\n      return r;\n    }","position":{"start":{"line":94,"column":1},"end":{"line":101,"column":1}},"key":"upwyHsYuSL"},{"type":"paragraph","position":{"start":{"line":103,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"text","value":"For Lie groups, the ","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"tO9KBmFPZf"},{"type":"inlineCode","value":"exponential map","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"cKgogFMg8K"},{"type":"text","value":" above is the most obvious mapping: it\nassociates straight lines in the tangent space with geodesics on the manifold\n(and it’s inverse, the log map). However, there are several cases in which we deviate from this:","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"V1eNdqMkU6"}],"key":"CssKouHF5t"},{"type":"paragraph","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"However, the exponential map is unnecessarily expensive for use in optimization. Hence, in GTSAM there is the option to provide a cheaper chart by means of the ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"amjvMw03nt"},{"type":"inlineCode","value":"ChartAtOrigin","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"kyxizZuCQd"},{"type":"text","value":" struct in a class. This is done for ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"tQdW9seBpK"},{"type":"emphasis","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"SE(2)","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"z0fjvAWoeq"}],"key":"etl7ReJdAQ"},{"type":"text","value":", ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"coXCSXwlW8"},{"type":"emphasis","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"SO(3)","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"gyktpswj6R"}],"key":"w8AdCXRtSN"},{"type":"text","value":" and ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"WbCW0UAy5j"},{"type":"emphasis","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"SE(3)","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"oeIdIgoxgb"}],"key":"Q0m855X1Iw"},{"type":"text","value":" (see ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"aG7rD9pJyv"},{"type":"inlineCode","value":"Pose2","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"pfT2z8MNVf"},{"type":"text","value":", ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"QjZfooLlKB"},{"type":"inlineCode","value":"Rot3","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"jBHi5kHEvP"},{"type":"text","value":", ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"SE21aG5v3S"},{"type":"inlineCode","value":"Pose3","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"qL0ESJnCKm"},{"type":"text","value":")","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"QdV5DrLjaG"}],"key":"Fu1tw8PC9Y"},{"type":"paragraph","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"text","value":"Most Lie groups we care about are ","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"t1ZPr5f4DT"},{"type":"emphasis","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"text","value":"Matrix groups","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"sZ8eQUzhoK"}],"key":"PJ1jLJvDRB"},{"type":"text","value":", continuous sub-groups of ","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"lXJHIAH35R"},{"type":"emphasis","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"text","value":"GL(n)","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"yzttBglIds"}],"key":"LbbUBAsPwd"},{"type":"text","value":", the group of ","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"qJTBDrACIt"},{"type":"emphasis","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"text","value":"n x n","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"VgQOJp26Xk"}],"key":"KqaBUa40He"},{"type":"text","value":" invertible matrices. In this case, a lot of the derivatives calculations needed can be standardized, and this is done by the ","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"cya0QI7YNj"},{"type":"inlineCode","value":"LieGroup","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"DufWRACXgE"},{"type":"text","value":" superclass. You only need to provide an ","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"SW6JInglFk"},{"type":"inlineCode","value":"AdjointMap","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"AMWaVs5jdR"},{"type":"text","value":" method.","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"brTZcTcsTw"}],"key":"iUzLQIQYbD"},{"type":"paragraph","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"A CRTP helper class ","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"jaeQqeWP3D"},{"type":"inlineCode","value":"LieGroup","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"NCQE00dN8E"},{"type":"text","value":" is available that can take a class and create some of the Lie group methods automatically. The class needs:","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"eX2nIhJuzk"}],"key":"VeDHFIGkBW"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":113,"column":1},"end":{"line":118,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"text","value":"operator* : implements group operator","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"kv7bynoNcz"}],"key":"tMaQWg1CYx"},{"type":"listItem","spread":true,"position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"children":[{"type":"text","value":"inverse: implements group inverse","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"RVkoSWFCII"}],"key":"yI1kU33AeB"},{"type":"listItem","spread":true,"position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"text","value":"AdjointMap: maps tangent vectors according to group element","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"key":"PkTzWR0VQ1"}],"key":"hinv0ifSg6"},{"type":"listItem","spread":true,"position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"children":[{"type":"text","value":"Expmap/Logmap: exponential map and its inverse","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"dP1b9CTkFv"}],"key":"eTyHRvYgMb"},{"type":"listItem","spread":true,"position":{"start":{"line":117,"column":1},"end":{"line":118,"column":1}},"children":[{"type":"text","value":"ChartAtOrigin: struct where you define Retract/Local at origin","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"w1DczGyFjv"}],"key":"nsCs2B3rAM"}],"key":"XHfzSUXkee"},{"type":"paragraph","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"text","value":"To use, simply derive, but also say ","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"qKnrFIZ5Ds"},{"type":"inlineCode","value":"using LieGroup<Class,N>::inverse","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"LlIvraMkfb"},{"type":"text","value":" so you get an inverse with a derivative.","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"XL9URxdWBc"}],"key":"QQTPtAA0HM"},{"type":"paragraph","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"children":[{"type":"text","value":"Finally, to create the traits automatically you can use ","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"ztIGSf0nW5"},{"type":"inlineCode","value":"internal::LieGroupTraits<Class>","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"IGCSojm5n5"}],"key":"XoL9oPOIbq"},{"type":"heading","depth":3,"position":{"start":{"line":123,"column":1},"end":{"line":124,"column":1}},"children":[{"type":"text","value":"Vector Space","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"mozfESavx2"}],"identifier":"vector-space","label":"Vector Space","html_id":"vector-space","implicit":true,"key":"FV30HBShDK"},{"type":"paragraph","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"children":[{"type":"text","value":"While vector spaces are in principle also manifolds, it is overkill to think about charts etc. Really, we should simply think about vector addition and subtraction. I.e. where","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"slqaefcfZa"}],"key":"UDYXcv55Ql"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":128,"column":1},"end":{"line":134,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"inlineCode","value":"Identity == 0","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"Rpgkz7kYFS"}],"key":"sMWJysQSZj"},{"type":"listItem","spread":true,"position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"inlineCode","value":"Inverse(p) == -p","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"TfcqgPuBO4"}],"key":"la1kt1ynyw"},{"type":"listItem","spread":true,"position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"children":[{"type":"inlineCode","value":"Compose(p,q) == p+q","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"RsTuP8sFsu"}],"key":"VfBeumw2qe"},{"type":"listItem","spread":true,"position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"children":[{"type":"inlineCode","value":"Between(p,q) == q-p","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"QOvKPxn9pu"}],"key":"xYkIRirkBF"},{"type":"listItem","spread":true,"position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"children":[{"type":"inlineCode","value":"Local(q) == p-q","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"Vyoh4MQRZx"}],"key":"Em27UiFQQX"},{"type":"listItem","spread":true,"position":{"start":{"line":133,"column":1},"end":{"line":134,"column":1}},"children":[{"type":"inlineCode","value":"Retract(v) == p+v","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"ltbfocwlov"}],"key":"i9OMPe6w1l"}],"key":"WjWQSc8EWh"},{"type":"paragraph","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"children":[{"type":"text","value":"This considerably simplifies certain operations. A ","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"yvsL06Hn9O"},{"type":"inlineCode","value":"VectorSpace","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"xFP6WGRimE"},{"type":"text","value":" superclass is available to implement the traits. Types that are vector space models include ","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"RfBQFv0id3"},{"type":"inlineCode","value":"Matrix","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"tRpnFtDzjB"},{"type":"text","value":", ","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"N9cOaqpeRc"},{"type":"inlineCode","value":"Vector","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"IOCLuRKygd"},{"type":"text","value":", any fixed or dynamic Eigen Matrix, ","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"C32lIe6DN8"},{"type":"inlineCode","value":"Point2","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"q0GfTGC0CS"},{"type":"text","value":", and ","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"Z0XArDJj2n"},{"type":"inlineCode","value":"Point3","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"z64O4RO6vh"},{"type":"text","value":".","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"PNH69ky6Jg"}],"key":"ufSfUEcx5X"},{"type":"heading","depth":3,"position":{"start":{"line":137,"column":1},"end":{"line":138,"column":1}},"children":[{"type":"text","value":"Testable","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"r6k9xehCsS"}],"identifier":"testable","label":"Testable","html_id":"testable","implicit":true,"key":"fAXJdzkt85"},{"type":"paragraph","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"children":[{"type":"text","value":"Unit tests heavily depend on the following two functions being defined for all types that need to be tested:","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"key":"OoGkfAUQnE"}],"key":"svCLwveU3U"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":141,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":141,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"text","value":"valid expressions:","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"S8gQxpPXGE"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":142,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"children":[{"type":"inlineCode","value":"Print(p,s)","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"key":"lOVClJk6K0"},{"type":"text","value":" where s is an optional string","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"key":"gRR09YVREu"}],"key":"RuRpqfm3Yq"},{"type":"listItem","spread":true,"position":{"start":{"line":143,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"inlineCode","value":"Equals(p,q,tol)","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"sCmb1AHLg0"},{"type":"text","value":" where tol is an optional (double) tolerance","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"dGCJuYgDJk"}],"key":"jArYQkMUlL"}],"key":"C0x0qRxnhp"}],"key":"Dt2o1dImd5"}],"key":"B47cXeCwMF"},{"type":"heading","depth":2,"position":{"start":{"line":145,"column":1},"end":{"line":146,"column":1}},"children":[{"type":"text","value":"Implementation","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"Dg8uJBA4Rj"}],"identifier":"implementation","label":"Implementation","html_id":"implementation","implicit":true,"key":"zJIdSblr4O"},{"type":"paragraph","position":{"start":{"line":148,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"text","value":"GTSAM Types start with Uppercase, e.g., ","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"YRoKRC5CW4"},{"type":"inlineCode","value":"gtsam::Point2","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"mJLU80mtrK"},{"type":"text","value":", and are models of the\nTESTABLE, MANIFOLD, GROUP, LIE_GROUP, and VECTOR_SPACE concepts.","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"bL50ZGyBtu"}],"key":"lTOix4bFmI"},{"type":"paragraph","position":{"start":{"line":151,"column":1},"end":{"line":153,"column":1}},"children":[{"type":"inlineCode","value":"gtsam::traits","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"QzNcGHsrb6"},{"type":"text","value":" is our way to associate these concepts with types,\nand we also define a limited number of ","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"ebPtVlFQbP"},{"type":"inlineCode","value":"gtsam::tags","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"fx80T2iRVp"},{"type":"text","value":" to select the correct implementation\nof certain functions at compile time (tag dispatching).","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"ROStuHK471"}],"key":"F2xbagJwom"},{"type":"heading","depth":3,"position":{"start":{"line":155,"column":1},"end":{"line":156,"column":1}},"children":[{"type":"text","value":"Traits","position":{"start":{"line":155,"column":1},"end":{"line":155,"column":1}},"key":"f0QEW7fOPb"}],"identifier":"traits","label":"Traits","html_id":"traits","implicit":true,"key":"SMrNedQnPb"},{"type":"paragraph","position":{"start":{"line":158,"column":1},"end":{"line":160,"column":1}},"children":[{"type":"text","value":"However, a base class is not a good way to implement/check the other concepts, as we would like these\nto apply equally well to types that are outside GTSAM control, e.g., ","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"SJSnf6q72l"},{"type":"inlineCode","value":"Eigen::VectorXd","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"mJ5fpti7yY"},{"type":"text","value":". This is where\n","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"Gw3oad2O0Q"},{"type":"link","url":"http://www.boost.org/doc/libs/1_57_0/libs/type_traits/doc/html/boost_typetraits/background.html","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"children":[{"type":"text","value":"traits","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"d3jmAni9xi"}],"urlSource":"http://www.boost.org/doc/libs/1_57_0/libs/type_traits/doc/html/boost_typetraits/background.html","key":"cgRSqqfYMd"},{"type":"text","value":" come in.","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"ceEVpp20Dk"}],"key":"oS2wsd4Ca0"},{"type":"paragraph","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"text","value":"We use Eigen-style or STL-style traits, that define ","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"BbY1WuQcX6"},{"type":"emphasis","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"text","value":"many","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"pZszVaOOEk"}],"key":"JbRZzXpE42"},{"type":"text","value":" properties at once.","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"OUkObrK07B"}],"key":"DsRpY5uWB6"},{"type":"paragraph","position":{"start":{"line":164,"column":1},"end":{"line":167,"column":1}},"children":[{"type":"text","value":"Note that not everything that makes a concept is defined by traits. Valid expressions such as ","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"z4kS1VH8uS"},{"type":"inlineCode","value":"traits<T>::Compose","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"dJI1yzWxO1"},{"type":"text","value":" are\ndefined simply as static functions within the traits class.\nFinally, for GTSAM types, it is perfectly acceptable (and even desired) to define associated types as internal types,\nrather than having to use traits internally.","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"FyGqrbBybN"}],"key":"t32t4ETRub"},{"type":"heading","depth":3,"position":{"start":{"line":169,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"Concept Checks","position":{"start":{"line":169,"column":1},"end":{"line":169,"column":1}},"key":"kjtZabHjHC"}],"identifier":"concept-checks","label":"Concept Checks","html_id":"concept-checks","implicit":true,"key":"XuLg7Norne"},{"type":"paragraph","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"Boost provides a nice way to check whether a given type satisfies a concept. For example, the following","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"BFLNCigdDD"}],"key":"iT1ZS2BGIv"},{"type":"code","lang":"","value":"BOOST_CONCEPT_ASSERT(IsVectorSpace<Point2>)","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"dnPjaXzn2T"},{"type":"paragraph","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"children":[{"type":"text","value":"asserts that Point2 indeed is a model for the VectorSpace concept.","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"Y5wJueWAwV"}],"key":"xrN6pmBluS"},{"type":"heading","depth":2,"position":{"start":{"line":178,"column":1},"end":{"line":179,"column":1}},"children":[{"type":"text","value":"Future Concepts","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"key":"p5WyM0fOOH"}],"identifier":"future-concepts","label":"Future Concepts","html_id":"future-concepts","implicit":true,"key":"m9WCdoXNSI"},{"type":"heading","depth":3,"position":{"start":{"line":182,"column":1},"end":{"line":183,"column":1}},"children":[{"type":"text","value":"Group Action","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"bYdlNiKyzj"}],"identifier":"group-action","label":"Group Action","html_id":"group-action","implicit":true,"key":"ReTfTGxomP"},{"type":"paragraph","position":{"start":{"line":185,"column":1},"end":{"line":187,"column":1}},"children":[{"type":"text","value":"Group actions are concepts in and of themselves that can be concept checked (see below).\nIn particular, a group can ","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"ILWKjgcEWx"},{"type":"emphasis","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"children":[{"type":"text","value":"act","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"a3ikghho6m"}],"key":"DV6OT0FZHv"},{"type":"text","value":" on another space.\nFor example, the ","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"gKpRYSjf9q"},{"type":"link","url":"https://en.wikipedia.org/wiki/Cyclic_group","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"children":[{"type":"text","value":"cyclic group of order 6","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"p978qRuxr7"}],"urlSource":"http://en.wikipedia.org/wiki/Cyclic_group","data":{"page":"Cyclic_group","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"U7TJIoH6QG"},{"type":"text","value":" can rotate 2D vectors around the origin:","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"ogRzdCBTrl"}],"key":"fnjxyLREfd"},{"type":"code","lang":"","value":"q = R(i)*p\nwhere R(i) = R(60)^i, where R(60) rotates by 60 degrees","position":{"start":{"line":189,"column":1},"end":{"line":190,"column":1}},"key":"cfLEsFMTjl"},{"type":"paragraph","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"children":[{"type":"text","value":"Hence, we formalize by the following extension of the concept:","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"key":"lGOIjRMLaV"}],"key":"jpR8yAhCfj"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":194,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":194,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"text","value":"valid expressions:","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"T0qpLUqPCY"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":195,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"inlineCode","value":"q = traits<T>::Act(g,p)","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"bMqL9AUy0S"},{"type":"text","value":", for some instance, ","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"LFsetaUnET"},{"type":"emphasis","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"r6z6XLoD7o"}],"key":"CBgCEQ2uLN"},{"type":"text","value":",  of a space ","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"X5D8kcUQTY"},{"type":"emphasis","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"text","value":"S","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"b3YAymr1i8"}],"key":"tXkfkh1rpm"},{"type":"text","value":", that can be acted upon by the group element ","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"Slb0X5iSAb"},{"type":"emphasis","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"text","value":"g","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"c4ms9b3agh"}],"key":"UzAUc68GTA"},{"type":"text","value":" to produce ","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"wN5Z1T4ppD"},{"type":"emphasis","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"text","value":"q","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"Gxfi5gET7p"}],"key":"msPd3JCG6Q"},{"type":"text","value":" in ","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"xVTlrXcCrS"},{"type":"emphasis","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"text","value":"S","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"ce68J4lSx9"}],"key":"UvOQkuERni"},{"type":"text","value":".","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"m7sbT180SI"}],"key":"MoOHgR2Pq9"},{"type":"listItem","spread":true,"position":{"start":{"line":196,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"inlineCode","value":"q = traits<T>::Act(g,p,Hp)","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"key":"S12WgkOi47"},{"type":"text","value":", if the space acted upon is a continuous differentiable manifold.","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"key":"BBEo3tMXdM"}],"key":"gMX4fPx0vP"}],"key":"EkCSEIYG1k"}],"key":"itqkfEOnTU"}],"key":"eJLjWOLmTK"},{"type":"paragraph","position":{"start":{"line":198,"column":1},"end":{"line":201,"column":1}},"children":[{"type":"text","value":"In the latter case, if ","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"SdabjCFFik"},{"type":"emphasis","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"S","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"E55hWL7A0o"}],"key":"fGoYSTGAbo"},{"type":"text","value":" is an n-dimensional manifold, ","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"I8avlJGeqF"},{"type":"emphasis","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"Hp","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"Th2Y5OdqP6"}],"key":"r8xuVMgUds"},{"type":"text","value":" is an output argument that should be\nfilled with the ","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"lVcKYaZOvr"},{"type":"emphasis","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"nxn","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"SZYtikB0Xp"}],"key":"LefeDwidjn"},{"type":"text","value":" Jacobian matrix of the action with respect to a change in ","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"hUmNVmHN4j"},{"type":"emphasis","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"GuhxhUKIoE"}],"key":"skgD53YMl2"},{"type":"text","value":". It typically depends\non the group element ","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"QFH33hS5q0"},{"type":"emphasis","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"g","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"PqLkdPHlMz"}],"key":"pG6Q2ZzeTf"},{"type":"text","value":", but in most common examples will ","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"cGcDPcEGEV"},{"type":"emphasis","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"not","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"tnFZ3TmMwR"}],"key":"kvtUUZaRoU"},{"type":"text","value":" depend on the value of ","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"LFByGiUZCc"},{"type":"emphasis","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"IWYnumorod"}],"key":"a6eK0aae8E"},{"type":"text","value":". For example, in\nthe cyclic group example above, we simply have","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"vT6kST3Yap"}],"key":"djn0in9mdV"},{"type":"code","lang":"","value":"Hp = R(i)","position":{"start":{"line":203,"column":1},"end":{"line":203,"column":1}},"key":"Gb1ANpqXFD"},{"type":"paragraph","position":{"start":{"line":205,"column":1},"end":{"line":206,"column":1}},"children":[{"type":"text","value":"Note there is no derivative of the action with respect to a change in g. That will only be defined\nfor Lie groups, which we introduce now.","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"key":"MmusDgPPvM"}],"key":"hlTmCawlHc"},{"type":"heading","depth":3,"position":{"start":{"line":209,"column":1},"end":{"line":210,"column":1}},"children":[{"type":"text","value":"Lie Group Action","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"key":"aZWIqPSCKc"}],"identifier":"lie-group-action","label":"Lie Group Action","html_id":"lie-group-action","implicit":true,"key":"Scl7tYT8Yj"},{"type":"paragraph","position":{"start":{"line":212,"column":1},"end":{"line":212,"column":1}},"children":[{"type":"text","value":"When a Lie group acts on a space, we have two derivatives to care about:","position":{"start":{"line":212,"column":1},"end":{"line":212,"column":1}},"key":"rxHX5d9PP0"}],"key":"VfAnUktfbD"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":214,"column":1},"end":{"line":215,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":214,"column":1},"end":{"line":215,"column":1}},"children":[{"type":"inlineCode","value":"gtasm::manifold::traits<T>::act(g,p,Hg,Hp)","position":{"start":{"line":214,"column":1},"end":{"line":214,"column":1}},"key":"Is1vpCBqrD"},{"type":"text","value":", if the space acted upon is a continuous differentiable manifold.","position":{"start":{"line":214,"column":1},"end":{"line":214,"column":1}},"key":"HsScBrqsD3"}],"key":"mr8Dq0M00V"}],"key":"T2oiT4FkdP"},{"type":"paragraph","position":{"start":{"line":216,"column":1},"end":{"line":216,"column":1}},"children":[{"type":"text","value":"An example is a ","position":{"start":{"line":216,"column":1},"end":{"line":216,"column":1}},"key":"EyjsxVX0en"},{"type":"emphasis","position":{"start":{"line":216,"column":1},"end":{"line":216,"column":1}},"children":[{"type":"text","value":"similarity transform","position":{"start":{"line":216,"column":1},"end":{"line":216,"column":1}},"key":"vSALFC7gyb"}],"key":"IfBDEDvYHX"},{"type":"text","value":" in 3D, which can act on 3D space, like","position":{"start":{"line":216,"column":1},"end":{"line":216,"column":1}},"key":"Dk1sq5aOlO"}],"key":"cbcNCfKlRY"},{"type":"code","lang":"","value":"q = s*R*p + t","position":{"start":{"line":218,"column":1},"end":{"line":218,"column":1}},"key":"NAiVUASbHg"},{"type":"paragraph","position":{"start":{"line":220,"column":1},"end":{"line":221,"column":1}},"children":[{"type":"text","value":"Note that again the derivative in ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"W5PEUEJM6B"},{"type":"emphasis","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"Zqd5asnlTp"}],"key":"RipSm3Q3s4"},{"type":"text","value":", ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"ilVYLdnOyd"},{"type":"emphasis","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"Hp","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"y8pjdwkkVq"}],"key":"GkrZiyOiv9"},{"type":"text","value":" is simply ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"LNj6Bp25Yj"},{"type":"emphasis","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"s R","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"Iwbtpm9e16"}],"key":"kc2NgwKOsD"},{"type":"text","value":", which depends on ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"TKo9HvW2zd"},{"type":"emphasis","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"g","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"gMQYAbK3vt"}],"key":"URwRcXsF8c"},{"type":"text","value":" but not on ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"sDiSf5nK1s"},{"type":"emphasis","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"mLhN9Gzi1p"}],"key":"TGKqxkynqm"},{"type":"text","value":".\nThe derivative in ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"LtQNmAlCMY"},{"type":"emphasis","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"g","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"hhUpmHqu7w"}],"key":"owDeU5vchL"},{"type":"text","value":", ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"xPJH3kbCSo"},{"type":"emphasis","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"Hg","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"gxKfc9T6Rz"}],"key":"VPF9E7MCYa"},{"type":"text","value":", is in general more complex.","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"PFfuABNafp"}],"key":"O9mStS5InV"},{"type":"paragraph","position":{"start":{"line":223,"column":1},"end":{"line":223,"column":1}},"children":[{"type":"text","value":"For now, we won’t care about Lie groups acting on non-manifolds.","position":{"start":{"line":223,"column":1},"end":{"line":223,"column":1}},"key":"vq3EK1CK1G"}],"key":"Xu86P2FW2V"}],"key":"RFDKwYZkg9"}],"key":"SJpEMdbRlh"},"references":{"cite":{"order":[],"data":{}}}}