{"version":1,"kind":"Article","sha256":"ac7126bb1e79ebba39904a50305a8587526c589576f5ea7e4e90a138b7c6e11a","slug":"content.build-project","location":"/Content/build-project.md","dependencies":[],"frontmatter":{"title":"Build","content_includes_title":false,"github":"https://github.com/borglab/gtsam","edit_url":"https://github.com/borglab/gtsam/blob/docs/ktk-sdk/Content/build-project.md","exports":[{"format":"md","filename":"build-project.md","url":"/build-project-1eedab76c74db7d37a7a7821650eeb39.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"To build GTSAM from source, clone or download the latest release from the ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"DBTmWOYVEu"},{"type":"link","url":"https://github.com/borglab/gtsam","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"GTSAM Github repo","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"nVOXjQnQjr"}],"urlSource":"https://github.com/borglab/gtsam","error":true,"key":"mAg13356Lw"},{"type":"text","value":".\nThen follow the build & install instructions below.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"DDYCwBg3AP"}],"key":"E9o4XTWlpp"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"break","key":"QaAFjGu4IJ"},{"type":"break","key":"BPBLSFlTzZ"}],"key":"uCMooll3pw"},{"type":"heading","depth":2,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Quickstart","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"r1JeATLkwM"}],"identifier":"quickstart","label":"Quickstart","html_id":"quickstart","implicit":true,"key":"EACY1Ssajt"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"In the root library folder execute:","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"cWo5AeojVM"}],"key":"pDaGdHFF6s"},{"type":"code","lang":"bash","value":"#!bash\n$ mkdir build\n$ cd build\n$ cmake ..\n$ make check (optional, runs unit tests)\n$ make install","position":{"start":{"line":16,"column":1},"end":{"line":23,"column":1}},"key":"gGY6sjfXl1"},{"type":"paragraph","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"break","key":"IXz8KSzDS5"},{"type":"break","key":"gILJiUMAhs"}],"key":"Khjl5I55w5"},{"type":"heading","depth":2,"position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Important Installation Notes","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"gwG2cxqYgM"}],"identifier":"important-installation-notes","label":"Important Installation Notes","html_id":"important-installation-notes","implicit":true,"key":"b6IT2nObRT"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":29,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":29,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"GTSAM requires the following libraries to be installed on your system:","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"Y2pM6K6b0K"}],"key":"v1C5NOiK4X"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":30,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"strong","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"BOOST","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"Hhjv5fdeFz"}],"key":"xgyWV95oJT"},{"type":"text","value":" version ","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"nEPkCzUiOX"},{"type":"strong","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"1.43","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"xPjBhfheQ5"}],"key":"MHrmhIQKC9"},{"type":"text","value":" or greater ","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"EoatAonerP"},{"type":"emphasis","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"(install through Linux repositories or MacPorts)","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"iewbHTYVMO"}],"key":"Mgd7a5rltb"}],"key":"C61rGUVAe2"},{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"strong","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"Cmake","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"EldhsmhfEv"}],"key":"mezXRJ1MJl"},{"type":"text","value":" version ","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"e8G1ZAyr2B"},{"type":"strong","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"3.0","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"BatlgV6rTj"}],"key":"KwGyLO1ONr"},{"type":"text","value":" or higher","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"pcwKAyCr20"}],"key":"UJ5Jgd6WAn"},{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"Support for ","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"QZ9ArYLgsL"},{"type":"strong","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"XCode 4.3","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"uIu9BsviTA"}],"key":"cnEQPbJQ1I"},{"type":"text","value":" command line tools on Mac requires ","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"sKqTXjKOd2"},{"type":"strong","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"CMake 2.8.8","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"qoXBBR6r6u"}],"key":"rLpe4JB9EY"},{"type":"text","value":" or higher","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"VRh1h1D6Zu"}],"key":"ZVRmWMb25g"}],"key":"rrp7g3CpzQ"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Optional dependent libraries:","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"ING59J9arX"}],"key":"GlVcnlb3gd"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":36,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":36,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"If TBB is installed and detectable by CMake GTSAM will use it automatically. Ensure that CMake prints ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"necf6lxcZo"},{"type":"inlineCode","value":"Use Intel TBB : Yes","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"HEDIUXMj2O"},{"type":"text","value":".","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"oTC6ktfjLc"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":37,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"To disable the use of TBB, disable the CMake flag ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"yfxKxR4xjs"},{"type":"inlineCode","value":"GTSAM_WITH_TBB","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"yxKKYZsVpP"},{"type":"text","value":" (enabled by default).","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"KUQ2SNrJPx"}],"key":"e18x8JFBky"},{"type":"listItem","spread":true,"position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"On Ubuntu, TBB may be installed from the Ubuntu repositories, and for other platforms it may be downloaded from ","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"llXSULAN1u"},{"type":"link","url":"https://www.threadingbuildingblocks.org/","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"here","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"Bn2JtmIyzu"}],"urlSource":"https://www.threadingbuildingblocks.org/","key":"eUOVeTrhNr"},{"type":"text","value":".","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"FLNiOUiCCY"}],"key":"SJvyYsbUHC"}],"key":"bIYP6YYadt"}],"key":"g1OLZgV8NO"},{"type":"listItem","spread":true,"position":{"start":{"line":39,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"text","value":"GTSAM may be configured to use MKL by toggling ","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"ZStYFZnmR1"},{"type":"inlineCode","value":"GTSAM_WITH_EIGEN_MKL","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"dEb6Mvw2mu"},{"type":"text","value":" and ","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"cbh6lfauoW"},{"type":"inlineCode","value":"GTSAM_WITH_EIGEN_MKL_OPENMP","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"tsrCyqUgfN"},{"type":"text","value":" to ","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"qjQXFKWVgf"},{"type":"inlineCode","value":"ON","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"REX0ZWKa7O"},{"type":"text","value":".\nHowever, best performance is usually achieved with MKL ","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"O55fVbM9IS"},{"type":"emphasis","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"disabled","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"lk6PXTzAQv"}],"key":"PH0gVCU1yX"},{"type":"text","value":". We therefore advise you to benchmark your problem before using MKL.","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"cuAF9CTuCW"}],"key":"qvLeZKcx7K"}],"key":"uPJKcgCEUP"}],"class":"dropdown","key":"bL7RJMMXEM"}],"key":"XyPBhmB08G"}],"key":"FNFJYPYVzw"},{"type":"break","key":"Ow23m6ERmg"},{"type":"list","ordered":true,"start":2,"spread":false,"position":{"start":{"line":45,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":45,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"Make sure you are on a compatible configuration:","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"DtSoHebPXG"},{"type":"admonition","kind":"important","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Configurations:","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"IXFUDrogrg"}],"key":"C5wmFrcEmJ"},{"type":"container","kind":"table","children":[{"type":"table","children":[{"type":"tableRow","children":[{"type":"tableCell","header":true,"children":[{"type":"text","value":"Tested Compilers","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"ei2fzu9klf"}],"key":"f4Dyy1NauZ"},{"type":"tableCell","header":true,"children":[{"type":"text","value":"Tested Systems","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"AskNsUIjon"}],"key":"vvSrbejolZ"}],"key":"OP0qV8jw3F"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"GCC 4.2-7.3","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"REF5T9U4yn"}],"key":"sXgtgDdqLg"},{"type":"tableCell","children":[{"type":"text","value":"Ubuntu 16.04 - 18.04","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"jETf1ixQEg"}],"key":"xvK5TGTFd1"}],"key":"U29kzGoxsn"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"OS X Clang 2.9-10.0","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"XbKesiyDlO"}],"key":"oQdVH3r3fo"},{"type":"tableCell","children":[{"type":"text","value":"MacOS 10.6 - 10.14, 15.2-15.3","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"Pq4RbK9zdN"}],"key":"cAPHDy4fDf"}],"key":"ozdQ4If80m"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"OS X GCC 4.2","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"GpWtduK4eD"}],"key":"J2bZ3MTgxu"},{"type":"tableCell","children":[{"type":"text","value":"Windows 7, 8, 8.1, 10","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"k4hOc1OupT"}],"key":"HC2sBYFXet"}],"key":"HlwS09ZOfU"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"MSVC 2017","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"wNLOZJQiLk"}],"key":"cv1p63jRNS"},{"type":"tableCell","children":[],"key":"C6vmj0FJOI"}],"key":"aPPzG13TnR"}],"key":"R30BLZKEmq"}],"enumerator":"1","key":"BsISQMCHVh"}],"class":"dropdown","key":"zdkRZfadVn"}],"key":"YX91Zkxvdl"}],"key":"I6KX7J1uzb"},{"type":"break","key":"QhTR4xlWZ4"},{"type":"list","ordered":true,"start":3,"spread":false,"position":{"start":{"line":60,"column":1},"end":{"line":64,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":60,"column":1},"end":{"line":64,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"text","value":"GTSAM makes extensive use of debug assertions, and we highly recommend you work in ","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"SN56M6K6Sn"},{"type":"strong","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"text","value":"Debug mode","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"xYw3HMYGys"}],"key":"FoJm669UaX"},{"type":"text","value":" while developing ","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"rlanpD5JSD"},{"type":"emphasis","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"text","value":"(which is not enabled by default)","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"Pic0vqQ67n"}],"key":"ne9cQXI9VD"},{"type":"text","value":". Likewise, it is imperative that you switch to release mode when running finished code and for timing.","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"F6kdMoXOrN"}],"key":"avyOmSqtmL"},{"type":"paragraph","position":{"start":{"line":62,"column":1},"end":{"line":63,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"strong","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"text","value":"GTSAM will run up to 10x faster in Release mode!","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"cGScaNxKAW"}],"key":"Y87q5MrfdQ"}],"key":"wzCegyfC0t"},{"type":"text","value":" See the end of this document for\nadditional debugging tips.","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"HMOJsq1NEJ"}],"key":"q8vrexW23i"}],"key":"GLJmqxdzPs"}],"key":"UnmS31qMhm"},{"type":"break","key":"W1xkQDXwuU"},{"type":"list","ordered":true,"start":4,"spread":false,"position":{"start":{"line":67,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":67,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"text","value":"GTSAM has ","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"IS5ChxGpKH"},{"type":"link","url":"http://www.doxygen.nl/","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"children":[{"type":"text","value":"Doxygen","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"hUZJJMY0H1"}],"urlSource":"http://www.doxygen.nl/","key":"lCBk0rdgBV"},{"type":"text","value":" documentation. To generate, run ","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"Nf1ZVPoVqQ"},{"type":"inlineCode","value":"make doc","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"S61vkXVccY"},{"type":"text","value":" from your build directory, or refer to the ","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"hT6eleEVWR"},{"type":"link","url":"/doxygen","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"children":[{"type":"text","value":"statically generated version on this website","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"ExCm8txYEm"}],"urlSource":"/doxygen","key":"G2GiA86a17"},{"type":"text","value":".","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"JgOSi4TP2X"}],"key":"toY5vuuRDv"}],"key":"pqENb4V4N9"},{"type":"break","key":"cImJ86bP3O"},{"type":"list","ordered":true,"start":5,"spread":false,"position":{"start":{"line":71,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":71,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"text","value":"The instructions below install the library to the default system install path and build all components. From a terminal, starting in the root library folder, execute the commands below for an out-of-source build. This will build the library and unit tests, run all of the unit tests, and then install the library itself.","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"ts8lgqCRYL"}],"key":"tGCzPBUGE6"}],"key":"shsd6cEHhj"},{"type":"code","lang":"bash","value":"  $ mkdir build\n  $ cd build\n  $ cmake ..\n  $ make check (optional, runs unit tests)\n  $ make install","position":{"start":{"line":73,"column":1},"end":{"line":79,"column":1}},"key":"oKHoUTqiXF"},{"type":"paragraph","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"children":[{"type":"break","key":"HkAMxEtMyZ"},{"type":"break","key":"GPYGsVEfLt"}],"key":"ed3WimgC1Q"},{"type":"heading","depth":2,"position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"children":[{"type":"text","value":"CMake Configuration Options and Details","position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"key":"v8DAX4IJYl"}],"identifier":"cmake-configuration-options-and-details","label":"CMake Configuration Options and Details","html_id":"cmake-configuration-options-and-details","implicit":true,"key":"uDYz2QtQWI"},{"type":"paragraph","position":{"start":{"line":85,"column":1},"end":{"line":86,"column":1}},"children":[{"type":"text","value":"GTSAM has a number of options that can be configured, which is best done with\none of the following:","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"key":"pJh3Xv4OWS"}],"key":"QkVFwb3pp1"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":88,"column":1},"end":{"line":90,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"children":[{"type":"inlineCode","value":"ccmake","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"RxOlVqfdQB"},{"type":"text","value":":      the curses GUI for cmake","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"wxWGfVsD7J"}],"key":"j2Xv0rGNob"},{"type":"listItem","spread":true,"position":{"start":{"line":89,"column":1},"end":{"line":90,"column":1}},"children":[{"type":"inlineCode","value":"cmake-gui","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"i8OyChjIE3"},{"type":"text","value":":   a real GUI for cmake","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"fQMIJtNZbP"}],"key":"GHJJ9dfH5O"}],"key":"froPkEK9Vp"},{"type":"heading","depth":3,"position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"children":[{"type":"text","value":"Important Options:","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"iZCzIjLPZz"}],"identifier":"important-options","label":"Important Options:","html_id":"important-options","implicit":true,"key":"UdQUWVY2lE"},{"type":"definitionList","position":{"start":{"line":93,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"definitionTerm","position":{"start":{"line":93,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"text","value":"CMAKE_BUILD_TYPE","position":{"start":{"line":93,"column":1},"end":{"line":93,"column":1}},"key":"lMF8inJiDU"}],"key":"G7d1m0r1nD"},{"type":"definitionDescription","position":{"start":{"line":94,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"children":[{"type":"text","value":"We support several build configurations for GTSAM (case insensitive)","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"bI5LnXD4so"}],"key":"luPnrkqUZu"},{"type":"code","lang":"","value":"cmake -DCMAKE_BUILD_TYPE=[Option] ..","position":{"start":{"line":95,"column":1},"end":{"line":97,"column":1}},"key":"IJfhq0UxED"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":98,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"children":[{"type":"inlineCode","value":"Debug","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"oafs71XImq"},{"type":"text","value":": All error checking options on, no optimization. Use for development of new features and fixing issues.","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"joZLcHDQFG"}],"key":"CCbcl8WJkP"},{"type":"listItem","spread":true,"position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"children":[{"type":"inlineCode","value":"Release","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"qAZreNS2i5"},{"type":"text","value":": Optimizations turned on, no debug symbols.","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"Fv2qf2OKOF"}],"key":"fj7X2067K5"},{"type":"listItem","spread":true,"position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"children":[{"type":"inlineCode","value":"Timing","position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"key":"zvUtQ6lAas"},{"type":"text","value":": Adds ENABLE_TIMING flag to provide statistics on operation","position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"key":"pI3ZPEmtwp"}],"key":"NO0UYLhki9"},{"type":"listItem","spread":true,"position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"children":[{"type":"inlineCode","value":"Profiling","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"key":"go3glL9Sl1"},{"type":"text","value":": Standard configuration for use during profiling","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"key":"UOUyjhvm5D"}],"key":"NqNXUBl5D0"},{"type":"listItem","spread":true,"position":{"start":{"line":102,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"inlineCode","value":"RelWithDebInfo","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"Y1TkHq559v"},{"type":"text","value":": Same as Release, but with the - g flag\nfor debug symbols","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"oLD6twY5xj"}],"key":"GvXOpAxdgz"}],"key":"OiUOpNesSz"}],"key":"HJvQzKfHPs"},{"type":"definitionTerm","position":{"start":{"line":105,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"text","value":"CMAKE_INSTALL_PREFIX","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"BngqHLuTv7"}],"key":"yGpSOGFUyS"},{"type":"definitionDescription","position":{"start":{"line":105,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":106,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"The install folder. The default is typically ","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"ZAwQsEeZxW"},{"type":"inlineCode","value":"/usr/local/","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"eYiIerL7uD"},{"type":"text","value":".\nTo configure to install to your home directory, you could execute:","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"P65oHPG3Zv"}],"key":"Si9Wt2TsYX"},{"type":"code","lang":"","value":"cmake -DCMAKE_INSTALL_PREFIX:PATH=$HOME ..","position":{"start":{"line":108,"column":1},"end":{"line":110,"column":1}},"key":"MQ8aMGIGY5"}],"key":"y7odzN7ivA"},{"type":"definitionTerm","position":{"start":{"line":112,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"GTSAM_TOOLBOX_INSTALL_PATH","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"key":"vZHDA89SIm"}],"key":"n9BUqcc4JQ"},{"type":"definitionDescription","position":{"start":{"line":112,"column":1},"end":{"line":117,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"text","value":"The Matlab toolbox will be installed in a subdirectory of this folder, called ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"Qbt2iNQuzv"},{"type":"inlineCode","value":"gtsam","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"D2YsAW5M9D"},{"type":"text","value":".","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"wUrm8X4iwu"}],"key":"n8JUMuDSqY"},{"type":"code","lang":"","value":"cmake -DGTSAM_TOOLBOX_INSTALL_PATH:PATH=$HOME/toolbox ..","position":{"start":{"line":114,"column":1},"end":{"line":116,"column":1}},"key":"Ed4QcUrqMA"}],"key":"sK0p9ke5yg"},{"type":"definitionTerm","position":{"start":{"line":118,"column":1},"end":{"line":117,"column":1}},"children":[{"type":"text","value":"GTSAM_BUILD_CONVENIENCE_LIBRARIES","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"CTePINRxGk"}],"key":"wPFhNdbD5C"},{"type":"definitionDescription","position":{"start":{"line":118,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":119,"column":1},"end":{"line":120,"column":1}},"children":[{"type":"text","value":"This is a build option to allow for tests in subfolders to be linked against convenience libraries rather than the full ","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"LX9ougtfgo"},{"type":"inlineCode","value":"libgtsam","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"olmxJSUwHl"},{"type":"text","value":".\nSet with the command line as follows:","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"h04Z0eigGB"}],"key":"YcizcnGV1G"},{"type":"code","lang":"","value":"cmake -DGTSAM_BUILD_CONVENIENCE_LIBRARIES:OPTION=ON ..","position":{"start":{"line":121,"column":1},"end":{"line":123,"column":1}},"key":"NzJA68tThn"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":124,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":124,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"inlineCode","value":"ON","position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"key":"R6JdoIAQga"},{"type":"text","value":" (Default): This builds convenience libraries and links tests against them.","position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"key":"taZym6Rdrn"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"text","value":"This option is suggested for gtsam developers, as it is possible to build and run tests without first building the rest of the library, and speeds up compilation for a single test. The downside of this option is that it will build the entire library again to build the full libgtsam library, so build / install will be slower.","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"key":"Zmsvk9b0uQ"}],"key":"Mm4Y0Eh67h"}],"key":"SZFMFcmMaG"}],"key":"GzsTTlbYz9"},{"type":"listItem","spread":true,"position":{"start":{"line":126,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"inlineCode","value":"OFF","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"BadgMOCA3O"},{"type":"text","value":": This will build all of ","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"FBmKHiwPq1"},{"type":"inlineCode","value":"libgtsam","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"poKFF4okMV"},{"type":"text","value":" before any of the tests, and then link all of the tests at once.","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"GMiUqGgeRl"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":127,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":127,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"text","value":"This option is best\nfor users of GTSAM, as it avoids rebuilding the entirety of gtsam an extra time.","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"F6Jy2yTzPc"}],"key":"YsU1P2zvjg"}],"key":"oLhhY8sZi3"}],"key":"AW8A3OmPTb"}],"key":"UXvXi0oZqD"}],"key":"u7nqsFkrHq"},{"type":"definitionTerm","position":{"start":{"line":130,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"text","value":"GTSAM_BUILD_UNSTABLE","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"uKTZv9rml5"}],"key":"ioi6vXDue0"},{"type":"definitionDescription","position":{"start":{"line":130,"column":1},"end":{"line":139,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":131,"column":1},"end":{"line":132,"column":1}},"children":[{"type":"text","value":"Enable build and install for ","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"QdfP3O4tMg"},{"type":"inlineCode","value":"libgtsam_unstable","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"DkJ0epMuXE"},{"type":"text","value":" library.\nSet with the command line as follows:","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"FRuX0Sow0p"}],"key":"wLajIrIr7O"},{"type":"code","lang":"","value":"cmake -DGTSAM_BUILD_UNSTABLE:OPTION=ON ..","position":{"start":{"line":133,"column":1},"end":{"line":135,"column":1}},"key":"qOMbmi1Pzw"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":136,"column":1},"end":{"line":139,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":136,"column":1},"end":{"line":137,"column":1}},"children":[{"type":"inlineCode","value":"ON","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"key":"XbmNxMJqzI"},{"type":"text","value":" (Default): When enabled, ","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"key":"qOAB0SWajT"},{"type":"inlineCode","value":"libgtsam_unstable","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"key":"ekKPsvG7kr"},{"type":"text","value":" will be built and installed with the same options as libgtsam. In addition, if tests are enabled, the unit tests will be built as well. The Matlab toolbox will also be generated\nif the matlab toolbox is enabled, installing into a folder called ","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"key":"ZzJtZqbR34"},{"type":"inlineCode","value":"gtsam_unstable","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"key":"ewuY0H3dTN"},{"type":"text","value":".","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"key":"Q2rkaXl1o5"}],"key":"DssehSADiK"},{"type":"listItem","spread":true,"position":{"start":{"line":138,"column":1},"end":{"line":139,"column":1}},"children":[{"type":"inlineCode","value":"OFF","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"Dbr7eRcGJk"},{"type":"text","value":": If disabled, no ","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"HtlJSeSU55"},{"type":"inlineCode","value":"gtsam_unstable","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"T9OPwxBsw9"},{"type":"text","value":" code will be included in build or install.","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"BxjgzJnh8A"}],"key":"qQ2VYhvN2J"}],"key":"jEaFJzotHW"}],"key":"dlhKn5up3i"},{"type":"definitionTerm","position":{"start":{"line":140,"column":1},"end":{"line":139,"column":1}},"children":[{"type":"text","value":"MEX_COMMAND","position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"key":"jc1hlj201D"}],"key":"CF2AXexMNC"},{"type":"definitionDescription","position":{"start":{"line":140,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"children":[{"type":"text","value":"Path to the mex compiler. Defaults to assume the path is included in your shell’s ","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"zPbbzYU4oD"},{"type":"inlineCode","value":"PATH","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"MiNact1trh"},{"type":"text","value":" environment variable. ","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"O6ElFUw1hQ"},{"type":"inlineCode","value":"mex","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"RITOVdnl5Q"},{"type":"text","value":" is installed with matlab at ","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"L9Vi8laRiG"},{"type":"inlineCode","value":"$MATLABROOT/bin/mex","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"YbPB73oBMR"},{"type":"text","value":".","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"zubqaJxNZz"}],"key":"PAmHzoWETy"},{"type":"paragraph","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"children":[{"type":"text","value":"The correct value for  ","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"wrilx4Uwnp"},{"type":"inlineCode","value":"MATLABROOT","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"Q8pWnmJsJH"},{"type":"text","value":" can be found by executing the command ","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"Br7JKgCkSQ"},{"type":"inlineCode","value":"matlabroot","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"gxDbbS87iV"},{"type":"text","value":" in MATLAB.","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"GOs6kxLl19"}],"key":"NzmSOhbnLt"}],"key":"l2rBOlJdna"}],"key":"sG1JxSKe5B"},{"type":"paragraph","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"children":[{"type":"break","key":"JjeOIxsxlM"},{"type":"break","key":"lcUrFVyu8J"}],"key":"KEcdNabHE0"},{"type":"heading","depth":2,"position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"text","value":"Running the unit tests","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"DcRvmytB9A"}],"identifier":"running-the-unit-tests","label":"Running the unit tests","html_id":"running-the-unit-tests","implicit":true,"key":"x40omot8VU"},{"type":"paragraph","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"inlineCode","value":"make check","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"e3PFz3Qn8o"},{"type":"text","value":" will build and run all of the tests. Note that the tests will only be built when using the “check” targets, to prevent ","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"voBRcFwej5"},{"type":"inlineCode","value":"make install","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"YESKTi9vCp"},{"type":"text","value":" from building the tests unnecessarily.","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"caTyjYMDws"}],"key":"WwRq8Zg8dq"},{"type":"paragraph","position":{"start":{"line":151,"column":1},"end":{"line":152,"column":1}},"children":[{"type":"text","value":"You can also run ","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"dZrhIvfhT9"},{"type":"inlineCode","value":"make timing","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"ZvzNdkAVtl"},{"type":"text","value":" to build all of the timing scripts.\nTo run check on a particular module only, run ","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"ZxEkNpJv8A"},{"type":"inlineCode","value":"make check.[subfolder]","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"V3R1fOIInX"},{"type":"text","value":", so to run just the geometry tests, run:","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"YiNb8SMcdu"}],"key":"DtGesh7Jw2"},{"type":"code","lang":"","value":"make check.geometry","position":{"start":{"line":153,"column":1},"end":{"line":155,"column":1}},"key":"i2wDGmo0eA"},{"type":"paragraph","position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"children":[{"type":"text","value":"Individual tests can be run by appending ","position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"key":"HAEYBLm12d"},{"type":"strong","position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"children":[{"type":"text","value":".run","position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"key":"zp2haiGRtm"}],"key":"d7uws26d6u"},{"type":"text","value":" to the name of the test. For example, to run ","position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"key":"Nicqehqp4G"},{"type":"inlineCode","value":"testMatrix","position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"key":"k5wdtk7mjM"},{"type":"text","value":", execute:","position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"key":"IGvzx73ug7"}],"key":"v7q0i5PTL6"},{"type":"code","lang":"","value":"make testMatrix.run","position":{"start":{"line":158,"column":1},"end":{"line":160,"column":1}},"key":"nQSinsDCN8"},{"type":"paragraph","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"break","key":"FOLkmb4JfV"},{"type":"break","key":"gdk4uYJLhA"}],"key":"PLn8H5q73W"},{"type":"heading","depth":2,"position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"children":[{"type":"text","value":"Performance","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"f0BNbZd1vW"}],"identifier":"performance","label":"Performance","html_id":"performance","implicit":true,"key":"yX5WsIxoZP"},{"type":"paragraph","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"children":[{"type":"text","value":"Here are some tips to get the best possible performance out of GTSAM.","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"vjTc346cD7"}],"key":"NFTTIkMDMK"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":168,"column":1},"end":{"line":179,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":168,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":168,"column":1},"end":{"line":169,"column":1}},"children":[{"type":"text","value":"Build in ","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"aI1ZHYl1z0"},{"type":"inlineCode","value":"Release","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"i2hDXZSUXA"},{"type":"text","value":" mode. GTSAM will run up to ","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"FFuj6KVYWq"},{"type":"emphasis","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"children":[{"type":"strong","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"children":[{"type":"text","value":"10x faster","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"XsGkNjyqnz"}],"key":"kzpsvA8J8q"}],"key":"F8Ez8cMUsy"},{"type":"text","value":" compared to ","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"ebLWJ3JXIV"},{"type":"inlineCode","value":"Debug","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"yyooZqqnmj"},{"type":"text","value":"\nmode.","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"IiUmaovE0j"}],"key":"Mm0VW3lId5"}],"key":"lCUmkqODCo"},{"type":"listItem","spread":true,"position":{"start":{"line":171,"column":1},"end":{"line":173,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"children":[{"type":"text","value":"Enable ","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"key":"wkfDwOXsBc"},{"type":"strong","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"children":[{"type":"text","value":"TBB","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"key":"T341UL513p"}],"key":"u2z23vKTXw"},{"type":"text","value":". On modern processors with multiple cores, this can easily speed up optimization by 30 - 50%.","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"key":"q26fv1nnCk"}],"key":"Ptn2lVnYIr"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":172,"column":1},"end":{"line":173,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":172,"column":1},"end":{"line":173,"column":1}},"children":[{"type":"text","value":"Please note that this may not be true for very small problems where the overhead of dispatching work to multiple threads outweighs the benefit. We recommend that you benchmark your problem with / without TBB.","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"hmYQWkmrDD"}],"key":"X6WQgrAAGd"}],"key":"Dh5adzShld"}],"key":"AmCXDzQ5VS"},{"type":"listItem","spread":true,"position":{"start":{"line":174,"column":1},"end":{"line":176,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"children":[{"type":"text","value":"Add ","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"y4luFILa6d"},{"type":"inlineCode","value":"-march=native","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"CvIxRU9EIz"},{"type":"text","value":" to ","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"dHPgbzNhg2"},{"type":"inlineCode","value":"GTSAM_CMAKE_CXX_FLAGS","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"oiRlnt5Zow"},{"type":"text","value":". A performance gain of 25 - 30% can be expected on modern processors.","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"jMuSNnxhLf"}],"key":"FjCSElMlQf"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":175,"column":1},"end":{"line":176,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":175,"column":1},"end":{"line":176,"column":1}},"children":[{"type":"text","value":"Note that this affects the portability of your executable. It may not run when copied to another system with older / different processor architecture. Also note that all dependent projects ","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"V9NW78zZ2x"},{"type":"strong","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"children":[{"type":"text","value":"must","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"xZlPBkbfja"}],"key":"XnSzwtIjoQ"},{"type":"text","value":" be compiled with the same flag, or segfaults and other undefined behavior may result.","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"ROSQ0dyDbk"}],"key":"Tk9culDATM"}],"key":"etu3oIFkBv"}],"key":"RJnMM7MTiM"},{"type":"listItem","spread":true,"position":{"start":{"line":177,"column":1},"end":{"line":179,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"children":[{"type":"text","value":"Possibly enable MKL.","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"c9kIPdJyUs"}],"key":"d7BAAwxF2r"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":178,"column":1},"end":{"line":179,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":178,"column":1},"end":{"line":179,"column":1}},"children":[{"type":"text","value":"Please note that our benchmarks have shown that this helps only in very limited cases, and actually hurts performance in the usual case. We therefore recommend that you do ","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"key":"BcABw9XD2P"},{"type":"emphasis","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"children":[{"type":"text","value":"not","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"key":"DNjafiHBFa"}],"key":"xd4PEGbBie"},{"type":"text","value":" enable MKL, unless you have benchmarked it on your problem and have verified that it improves performance.","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"key":"XG2s2K5HHB"}],"key":"zsaRyevg6A"}],"key":"IJIyPVbVSo"}],"key":"r1U0ReqoLW"}],"key":"D7xQPaFael"},{"type":"heading","depth":2,"position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"children":[{"type":"text","value":"Debugging tips","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"i5lgutfe1N"}],"identifier":"debugging-tips","label":"Debugging tips","html_id":"debugging-tips","implicit":true,"key":"KFmA8PPVB6"},{"type":"paragraph","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"children":[{"type":"text","value":"Another useful debugging symbol is ","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"DNd0OSRKJj"},{"type":"inlineCode","value":"_GLIBCXX_DEBUG","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"Nz1gYLGULP"},{"type":"text","value":", which enables debug checks and safe containers in the standard C++ library and makes problems much easier to find.","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"qxRe9R75LZ"}],"key":"fJTFyaxafu"},{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Warning","key":"SR8ai1D4tb"}],"key":"QLfvjRao9t"},{"type":"paragraph","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"children":[{"type":"text","value":"The native Snow Leopard g++ compiler / library contains a bug that makes it impossible to use ","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"OQzFFPzoSi"},{"type":"inlineCode","value":"_GLIBCXX_DEBUG","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"VrtsQLKyb6"},{"type":"text","value":". MacPorts g++ compilers do work with it though.","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"BG0jWOQXI2"}],"key":"xN4FxbGN2q"},{"type":"paragraph","position":{"start":{"line":187,"column":1},"end":{"line":187,"column":1}},"children":[{"type":"text","value":"If ","position":{"start":{"line":187,"column":1},"end":{"line":187,"column":1}},"key":"x5cECiiF2b"},{"type":"inlineCode","value":"_GLIBCXX_DEBUG","position":{"start":{"line":187,"column":1},"end":{"line":187,"column":1}},"key":"D4qzxGntSW"},{"type":"text","value":" is used to compile gtsam, anything that links against gtsam will need to be compiled with ","position":{"start":{"line":187,"column":1},"end":{"line":187,"column":1}},"key":"zZZsBnJOXt"},{"type":"inlineCode","value":"_GLIBCXX_DEBUG","position":{"start":{"line":187,"column":1},"end":{"line":187,"column":1}},"key":"qFNe4PwUgQ"},{"type":"text","value":" as well, due to the use of header - only Eigen.","position":{"start":{"line":187,"column":1},"end":{"line":187,"column":1}},"key":"srqtTAme9T"}],"key":"qb2O0EdoMn"}],"key":"CxcEQRd22h"},{"type":"paragraph","position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"children":[{"type":"break","key":"pFMjsjep8B"},{"type":"break","key":"nbL3Qv06im"}],"key":"ckK2VAJtdt"},{"type":"heading","depth":2,"position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"children":[{"type":"text","value":"Installing MKL on Linux","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"key":"me0FYvSzx5"}],"identifier":"installing-mkl-on-linux","label":"Installing MKL on Linux","html_id":"installing-mkl-on-linux","implicit":true,"key":"TnKg193Kx7"},{"type":"paragraph","position":{"start":{"line":194,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"text","value":"Intel has a guide\nfor installing MKL on Linux through APT repositories ","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"oYStK3Xrv7"},{"type":"link","url":"https://software.intel.com/en-us/articles/installing-intel-free-libs-and-python-apt-repo","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"children":[{"type":"text","value":"here","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"ZW0iMUGSK6"}],"urlSource":"https://software.intel.com/en-us/articles/installing-intel-free-libs-and-python-apt-repo","key":"ATfCNPshf1"},{"type":"text","value":".","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"LptiXKi7l3"}],"key":"cg34jQs6dX"},{"type":"paragraph","position":{"start":{"line":197,"column":1},"end":{"line":199,"column":1}},"children":[{"type":"text","value":"After following the instructions, add the following to your ","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"THL9tdHmIR"},{"type":"inlineCode","value":"~/.bashrc","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"XI7feXcpb5"},{"type":"text","value":" (and afterwards, open a new terminal before compiling GTSAM):\n","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"bw1ao5q5V8"},{"type":"inlineCode","value":"LD_PRELOAD","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"nhd6F3XzU4"},{"type":"text","value":"\nneed only be set if you are building the cython wrapper to use GTSAM from python.","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"ywOx85vODx"}],"key":"gjdG6YgKK3"},{"type":"code","lang":"sh","value":"source /opt/intel/mkl/bin/mklvars.sh intel64\nexport LD_PRELOAD=\"$LD_PRELOAD:/opt/intel/mkl/lib/intel64/libmkl_core.so:/opt/intel/mkl/lib/intel64/libmkl_sequential.so\"","position":{"start":{"line":201,"column":1},"end":{"line":204,"column":1}},"key":"rRh2gIEO9q"},{"type":"paragraph","position":{"start":{"line":206,"column":1},"end":{"line":206,"column":1}},"children":[{"type":"text","value":"To use MKL in GTSAM pass the flag ","position":{"start":{"line":206,"column":1},"end":{"line":206,"column":1}},"key":"gfH00TTSbU"},{"type":"inlineCode","value":"-DGTSAM_WITH_EIGEN_MKL=ON","position":{"start":{"line":206,"column":1},"end":{"line":206,"column":1}},"key":"L1JQ7OpS6L"},{"type":"text","value":" to cmake.","position":{"start":{"line":206,"column":1},"end":{"line":206,"column":1}},"key":"B19pGKoewq"}],"key":"EUpd3YA45z"},{"type":"paragraph","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"YnKsGKYOTk"},{"type":"inlineCode","value":"LD_PRELOAD","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"xG9KcxfUxL"},{"type":"text","value":" fix seems to be related to a well known problem with MKL which leads to lots of undefined symbol errors, for example:","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"N1c9vkrqHg"}],"key":"rlV9USuY5o"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":210,"column":1},"end":{"line":213,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"children":[{"type":"link","url":"https://software.intel.com/en-us/forums/intel-math-kernel-library/topic/300857","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"children":[{"type":"text","value":"https://​software​.intel​.com​/en​-us​/forums​/intel​-math​-kernel​-library​/topic​/300857","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"key":"r1jrlzeMWU"}],"urlSource":"https://software.intel.com/en-us/forums/intel-math-kernel-library/topic/300857","key":"KPKlQKfmoA"}],"key":"uoTm8I7BD2"},{"type":"listItem","spread":true,"position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"children":[{"type":"link","url":"https://software.intel.com/en-us/forums/intel-distribution-for-python/topic/628976","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"children":[{"type":"text","value":"https://​software​.intel​.com​/en​-us​/forums​/intel​-distribution​-for​-python​/topic​/628976","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"IOsI2OkrFX"}],"urlSource":"https://software.intel.com/en-us/forums/intel-distribution-for-python/topic/628976","key":"O1Qj2vdQaE"}],"key":"onpqYr4kjZ"},{"type":"listItem","spread":true,"position":{"start":{"line":212,"column":1},"end":{"line":213,"column":1}},"children":[{"type":"link","url":"https://groups.google.com/a/continuum.io/forum/#!topic/anaconda/J3YGoef64z8","position":{"start":{"line":212,"column":1},"end":{"line":212,"column":1}},"children":[{"type":"text","value":"https://​groups​.google​.com​/a​/continuum​.io​/forum​/​#!topic​/anaconda​/J3YGoef64z8","position":{"start":{"line":212,"column":1},"end":{"line":212,"column":1}},"key":"cYuknv6mXl"}],"urlSource":"https://groups.google.com/a/continuum.io/forum/#!topic/anaconda/J3YGoef64z8","key":"Kgvf5ASQ76"}],"key":"sRpsn6WOKd"}],"key":"X2zInBwLRC"},{"type":"paragraph","position":{"start":{"line":214,"column":1},"end":{"line":214,"column":1}},"children":[{"type":"text","value":"Failing to specify ","position":{"start":{"line":214,"column":1},"end":{"line":214,"column":1}},"key":"Oyn5LeN2V0"},{"type":"inlineCode","value":"LD_PRELOAD","position":{"start":{"line":214,"column":1},"end":{"line":214,"column":1}},"key":"zBih0npwmr"},{"type":"text","value":" may lead to errors such as:","position":{"start":{"line":214,"column":1},"end":{"line":214,"column":1}},"key":"XwebCmTRKK"}],"key":"jhVf2OpWYe"},{"type":"code","lang":"","value":"ImportError: /opt/intel/mkl/lib/intel64/libmkl_vml_avx2.so: undefined symbol: mkl_serv_getenv","position":{"start":{"line":216,"column":1},"end":{"line":218,"column":1}},"key":"xCfDlGxSqx"},{"type":"paragraph","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"or","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"tmjVbrsSfl"}],"key":"kHxHjiJnqW"},{"type":"code","lang":"","value":"Intel MKL FATAL ERROR: Cannot load libmkl_avx2.so or libmkl_def.so.","position":{"start":{"line":222,"column":1},"end":{"line":224,"column":1}},"key":"hz9TIfB6tg"},{"type":"paragraph","position":{"start":{"line":226,"column":1},"end":{"line":226,"column":1}},"children":[{"type":"text","value":"when importing GTSAM using the cython wrapper in python.","position":{"start":{"line":226,"column":1},"end":{"line":226,"column":1}},"key":"M7anXlkSeO"}],"key":"xo1zQGdO3d"}],"key":"ohRhil0WvF"}],"key":"RUo6WVtSBJ"},"references":{"cite":{"order":[],"data":{}}}}